(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(t,e){},110:function(t,e,n){t.exports=n(155)},122:function(t,e){},128:function(t,e){},152:function(t,e,n){},155:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(68),i=n.n(c),o=n(11),u=n(172),s=n(177),l=n(5),d=n(104),f=n.n(d),m=n(105),b=n.n(m),p=n(2),g=n(3),h="rgba(252, 169, 2, 1)",v="rgba(12, 8, 1, 1)",O="rgba(79, 19, 3, 1)",j="rgba(140, 18, 0, 1)";function x(){var t=Object(p.a)(["\n  background: ",";\n  padding: 5px 10px;\n  margin: 5px;\n\n  border: none;\n  border-radius: 5px;\n\n  color: white;\n\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n  }\n"]);return x=function(){return t},t}var E=g.a.button(x(),O,j);function y(){var t=Object(p.a)(["\n  background: ",";\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  max-width: 980px;\n\n  color: ",";\n"]);return y=function(){return t},t}var R=g.a.div(y(),"rgba(252, 230, 118, 1)",v);function w(){var t=Object(p.a)(["\n  font-size: 24px;\n  color: ",";\n  margin: 30px;\n\n  &:hover {\n    color: ",";\n  }\n"]);return w=function(){return t},t}function S(){var t=Object(p.a)(["\n  padding: 50px;\n  text-align: center;\n"]);return S=function(){return t},t}var k=g.a.footer(S()),_=g.a.a(w(),v,O),T=function(){return a.a.createElement(k,null,a.a.createElement(_,{href:"https://github.com/lith-light-g/hook3"},a.a.createElement(l.c,{id:"footer.source"})),"-",a.a.createElement(_,{href:"https://lith-light-g.github.io/hook3/storybook"},"Storybook"))};function B(){var t=Object(p.a)(["\n  text-align: center;\n"]);return B=function(){return t},t}function C(){var t=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return C=function(){return t},t}var F=Object(g.a)(R)(C()),H=g.a.main(B()),G=function(t){var e=t.onStart;return a.a.createElement(F,null,a.a.createElement(H,null,a.a.createElement("div",null,a.a.createElement("h1",null,a.a.createElement(l.c,{id:"introduction.title"})),a.a.createElement("article",null,a.a.createElement(l.b,{id:"introduction.description"})),a.a.createElement(E,{onClick:e},a.a.createElement(l.c,{id:"introduction.getStartedButton"})))),a.a.createElement(T,null))},A=n(9),P=n(176),q=n(8),I=n(169),z=n(136),M=n(174),D=n(167),N=n(156),K=n(168),U=n(170),L=n(157),Y=n(158),W=n(159),J=n(175),Z=n(160),$=n(161),Q=n(63),V=n(108),X=function t(){var e=this;Object(V.a)(this,t),this.kudos={},this.laps={},this.init=function(t){return fetch("https://www.strava.com/oauth/token",{body:JSON.stringify({client_id:"30519",client_secret:"7d362c52b3f0019f66e9c518053495982450a497",code:t,grant_type:"authorization_code"}),method:"POST",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){var n=t.access_token,r=t.refresh_token,a=t.athlete,c=t.expires_at;e.accessToken=n,e.refreshToken=r,e.tokenExpiresAt=1e3*c,e.currentAthlete=a;var i=e.getAthleteStats().then(function(t){var n=t.all_run_totals;e.totalRuns=n}),o=e.getActivities().then(function(t){return Promise.all(t.filter(function(t){return"Run"===t.type}).map(function(t){return e.getActivityDetails(t.id).then(function(t){return e.activities=Object(q.a)({},e.activities,Object(Q.a)({},t.id,t)),e.getKudosers(t.id).then(function(n){e.kudos=Object(q.a)({},e.kudos,Object(Q.a)({},t.id,n))})})}))});return Promise.all([i,o]).then(function(){return{currentAthlete:a,totalRuns:e.totalRuns,activities:e.activities,kudos:e.kudos}})})},this.createStravaRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat("https://www.strava.com/api/v3").concat(t),Object(q.a)({},n,{headers:Object(q.a)({},n.headers,{Authorization:"Bearer ".concat(e.accessToken)})})).then(function(t){return t.json()})},this.getAuthenticatedAthelete=function(){return e.createStravaRequest("/athlete")},this.getZones=function(){return e.createStravaRequest("/athlete/zones")},this.getAthleteStats=function(){return e.createStravaRequest("/athletes/".concat(e.currentAthlete.id,"/stats"))},this.getActivities=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e.createStravaRequest("/athlete/activities?page=".concat(t,"&per_page=100"))},this.getActivityDetails=function(t){return e.createStravaRequest("/activities/".concat(t))},this.getKudosers=function(t){return e.createStravaRequest("/activities/".concat(t,"/kudos"))},this.getLaps=function(t){return e.createStravaRequest("/activities/".concat(t,"/laps"))},this.getRoutes=function(){return e.createStravaRequest("/athletes/".concat(e.currentAthlete.id,"/routes"))},this.getRaces=function(){return e.createStravaRequest("/running_races")}},tt=n(162);function et(){var t=Object(p.a)(["\n  font-size: 48px;\n"]);return et=function(){return t},t}function nt(){var t=Object(p.a)(["\n  padding: 10px 30px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: space-between;\n"]);return nt=function(){return t},t}function rt(){var t=Object(p.a)(["\n  background: ",";\n  padding: 10px;\n  flex: 0;\n\n  & img {\n    border: 5px solid ",";\n  }\n"]);return rt=function(){return t},t}function at(){var t=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]);return at=function(){return t},t}var ct=g.a.header(at()),it=g.a.div(rt(),h,v),ot=g.a.div(nt()),ut=g.a.h1(et()),st=function(t){var e=t.profilePicture,n=t.fullName;return a.a.createElement(ct,null,a.a.createElement(it,null,a.a.createElement(tt.a,{to:"/"},a.a.createElement("img",{src:e,alt:""}))),a.a.createElement(ot,null,a.a.createElement(ut,null,a.a.createElement(l.c,{id:"header.hello",values:{name:n}}))))};st.defaultProps={athleteId:void 0,profilePicture:"",fullName:""};var lt=st,dt=n(166),ft=n(164),mt=n(137),bt=n(165);function pt(){var t=Object(p.a)([""]);return pt=function(){return t},t}function gt(){var t=Object(p.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  padding: 5px;\n  transition: all 0.2s ease-in-out;\n  background: ",";\n\n  &:hover {\n    transform: scale(1.1);\n  }\n"]);return gt=function(){return t},t}function ht(){var t=Object(p.a)([""]);return ht=function(){return t},t}function vt(){var t=Object(p.a)(["\n  width: 50%;\n  min-height: 200px;\n  text-align: center;\n  float: left;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  color: ",";\n  line-height: 48px;\n  text-decoration: none;\n"]);return vt=function(){return t},t}var Ot=g.a.a(vt(),v),jt=g.a.div(ht()),xt=g.a.div(gt(),h),Et=g.a.div(pt()),yt=function(t){var e=t.url,n=t.renderTitle,r=t.renderHighlight,c=t.renderSubtitle;return a.a.createElement(Ot,{href:e,target:"_blank"},a.a.createElement(jt,null,n()),a.a.createElement(xt,null,r()),a.a.createElement(Et,null,c()))};yt.defaultProps={renderTitle:function(){},renderHighlight:function(){},renderSubtitle:function(){},url:void 0};var Rt=yt,wt=function(t){var e=Object(r.useState)(!1),n=Object(A.a)(e,2),a=n[0],c=n[1];return Object(r.useEffect)(function(){var e=function(){return!!function(t){try{var e=t.getBoundingClientRect(),n=e.top,r=e.right,a=e.bottom,c=e.left;return n>=0&&c>=0&&a<=(window.innerHeight||document.documentElement.clientHeight)&&r<=(window.innerWidth||document.documentElement.clientWidth)}catch(i){return!1}}(t.current)&&(c(!0),!0)};return e()?function(){}:(t&&(window.addEventListener("scroll",e),window.addEventListener("resize",e)),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})},[t]),a};function St(){var t=Object(p.a)(["\n  min-height: 500px;\n  padding: 50px 20px;\n  position: relative;\n\n  & > *:nth-child(1) {\n    position: relative;\n  }\n  & > *:nth-child(1):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    bottom: 25%;\n    right: -","px;\n    height: ","%;\n    width: ","px;\n    transition: all 1s ease-in-out;\n  }\n  & > *:nth-child(1):before {\n    content: '';\n    background: ",";\n    position: absolute;\n    right: 25%;\n    bottom: -","px;\n    width: ","%;\n    height: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(2) {\n    position: relative;\n  }\n  & > *:nth-child(2):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    left: 25%;\n    bottom: -","px;\n    width: ","%;\n    height: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(3) {\n    position: relative;\n  }\n  & > *:nth-child(3):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    top: 25%;\n    right: -","px;\n    height: ","%;\n    width: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(4) {\n    position: relative;\n  }\n"]);return St=function(){return t},t}var kt=g.a.div(St(),v,2.5,function(t){return t.showBorders?50:0},5,v,2.5,function(t){return t.showBorders?50:0},5,v,2.5,function(t){return t.showBorders?50:0},5,v,2.5,function(t){return t.showBorders?50:0},5),_t=function(t){var e=t.longestRun,n=t.mostFrequentRun,c=t.biggestFan,i=t.totalRuns,o=Object(r.useRef)(),u=wt(o);return a.a.createElement(kt,{ref:o,showBorders:u},a.a.createElement(Rt,{url:"https://www.strava.com/activities/".concat(e.id),renderTitle:function(){return a.a.createElement(l.b,{id:"highlights.longestRunTitle",values:{run:Object(bt.a)(e.name,{separator:/,? +/})}})},renderHighlight:function(){return a.a.createElement("strong",null,a.a.createElement(l.c,{id:"highlights.longestRunHighlight",values:{distance:(e.distance/1e3).toPrecision(3)}}))},renderSubtitle:function(){return a.a.createElement("span",null,a.a.createElement(l.c,{id:"highlights.longestRunSubtitle"}),a.a.createElement(l.a,{value:new Date(e.date),day:"2-digit",weekday:"long",month:"long",year:"numeric"}))}}),a.a.createElement(Rt,{url:"https://www.strava.com/activities/".concat(n.id),renderTitle:function(){return a.a.createElement(l.b,{id:"highlights.mostFrequentRunTitle",values:{run:Object(bt.a)(n.name,{separator:/,? +/})}})},renderHighlight:function(){return a.a.createElement("strong",null,a.a.createElement(l.c,{id:"highlights.mostFrequentRunHighlight",values:{count:n.count}}))},renderSubtitle:function(){return a.a.createElement("span",null,a.a.createElement(l.c,{id:"highlights.mostFrequentRunSubtitle"}),a.a.createElement(l.a,{value:new Date(n.date),day:"2-digit",weekday:"long",month:"long",year:"numeric"}))}}),a.a.createElement(Rt,{url:"https://www.strava.com/athletes/".concat(c.id),renderTitle:function(){return a.a.createElement(l.b,{id:"highlights.biggestFanTitle",values:{fan:c.name}})},renderHighlight:function(){return a.a.createElement("img",{src:c.picture,alt:""})},renderSubtitle:function(){return a.a.createElement("strong",null,a.a.createElement(l.c,{id:"highlights.biggestFanSubtitle",values:{kudos:c.count}}))}}),a.a.createElement(Rt,{url:"https://www.strava.com/athletes/".concat(i.athleteId),renderTitle:function(){return a.a.createElement(l.c,{id:"highlights.totalRunsTitle"})},renderHighlight:function(){return a.a.createElement("strong",null,a.a.createElement(l.c,{id:"highlights.totalRunsHighlight",values:{runs:i.count}}))},renderSubtitle:function(){return a.a.createElement(l.c,{id:"highlights.totalRunsSubtitle"})}}))},Tt=n(26),Bt=n(163),Ct=n(4),Ft=n(19),Ht=n(27),Gt=n(15),At=n(28),Pt=Object(r.createContext)({type:"",id:void 0,setSelectedItem:function(){}});function qt(){var t=Object(p.a)(["\n  & .x-axis text {\n    font-size: 16px;\n    text-anchor: middle;\n    font-family: Acme;\n  }\n\n  & .bar {\n    fill: ",";\n\n    &:hover,\n    &--selected {\n      fill: ",";\n    }\n  }\n\n  & .kudoser {\n    cursor: pointer;\n\n    & .label {\n      text-anchor: start;\n      font-size: 24px;\n      fill: white;\n      pointer-events: none;\n    }\n  }\n"]);return qt=function(){return t},t}var It=g.a.div(qt(),O,j),zt=function(t){var e=Object(r.useContext)(Pt),n=e.setSelectedItem,c=Object(Tt.a)(e,["setSelectedItem"]),i=Object(r.useRef)(),o=wt(i),u=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),f=Object(r.useRef)(),m=Object(Bt.a)(t.kudosers,10);return Object(r.useEffect)(function(){var t=10,e=10,n=30,r=10,a=600-r-e,c=500-t-n,o=Object(Ct.c)(i.current).append("svg").attr("viewBox","0 0 ".concat(a+r+e," ").concat(c+t+n));o.append("rect").attr("fill",h).attr("x",0).attr("y",0).attr("width",a+r+e).attr("height",c+t+n);var m=o.append("g").attr("class","container").attr("transform","translate(".concat(r,", ").concat(t,")"));d.current=m,f.current=m.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(c,")")),u.current=Object(Ft.b)().range([0,a]),l.current=Object(Ft.a)().padding(.2).range([0,c]),s.current=Object(Ht.a)(u.current)},[i]),Object(r.useEffect)(function(){if(o){var t=u.current,e=l.current,r=s.current,a=d.current,c=f.current;t.domain([0,Object(J.a)(m,function(t){return t.kudosCount}).kudosCount]),e.domain(m.map(function(t){return t.id})),r.scale(t),c.call(r).selectAll("text");var i=a.selectAll("rect").data(m).enter().append("g").attr("class","kudoser").on("click",function(t){return window.open("https://www.strava.com/athletes/".concat(t.id),"_blank")}).on("mouseover",function(t){var e=t.id;return n({type:"KUDOSER",id:e})}).on("mouseout",function(){return n()});i.append("rect").attr("class","bar").attr("y",function(t){return e(t.id)}).attr("height",e.bandwidth()).transition().duration(750).ease(Gt.d).attr("x",function(){return 0}).attr("width",function(e){return t(e.kudosCount)});var b=i.append("g");b.attr("opacity",0).transition().duration(500).delay(function(t,e){return 750+50*e}).ease(Gt.c).attr("opacity",1),b.append("text").attr("class","label").attr("y",function(t){return e(t.id)+28}).transition().duration(500).delay(function(t,e){return 750+50*e}).ease(Gt.c).attr("x",function(){return 5}).text(function(t){return"".concat(t.firstname," ").concat(t.lastname)})}},[m,i,o]),Object(r.useEffect)(function(){if(o){var t,e=c.id;switch(c.type){case"KUDOSER":t=Object(U.a)(m,function(t){return t.id===e})}var n=d.current.selectAll(".bar").data(t?[t]:[],function(t){return t.id});n.classed("bar--selected",!0),n.exit().classed("bar--selected",!1)}},[c,m,o,i]),a.a.createElement(It,{className:"ChartTopKudosers",ref:i})};zt.defaultProps={kudosers:[]};var Mt=zt;function Dt(){var t=Object(p.a)(["\n  &.selected {\n    color: ",";\n  }\n"]);return Dt=function(){return t},t}function Nt(){var t=Object(p.a)(["\n  color: ",";\n  text-decoration: underline;\n\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:active,\n  &.selected {\n    color: ",";\n  }\n"]);return Nt=function(){return t},t}function Kt(){var t=Object(p.a)(["\n  font-size: 24px;\n  line-height: 32px;\n"]);return Kt=function(){return t},t}function Ut(){var t=Object(p.a)([""]);return Ut=function(){return t},t}function Lt(){var t=Object(p.a)([""]);return Lt=function(){return t},t}var Yt=g.a.ol(Lt()),Wt=g.a.ul(Ut()),Jt=g.a.li(Kt()),Zt=g.a.a(Nt(),v,O,j),$t=g.a.span(Dt(),j),Qt=function(t){var e=t.items,n=t.ordered,c=Object(r.useContext)(Pt),i=c.setSelectedItem,o=Object(Tt.a)(c,["setSelectedItem"]),u=n?Yt:Wt;return a.a.createElement(u,null,e.map(function(t,e){var n=t.label,r=t.onClick,c=t.id,u=t.type,s={onMouseOver:function(){return i({type:u,id:c})},onMouseOut:function(){return i()},className:o.type===u&&c===o.id?"selected":""};return a.a.createElement(Jt,{key:e},r?a.a.createElement(Zt,Object.assign({},s,{onClick:r}),n):a.a.createElement($t,s,n))}))};Qt.defaultProps={items:[],ordered:!1};var Vt=Qt,Xt=n(139),te=n.n(Xt),ee=n(178),ne=n(173);function re(){var t=Object(p.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .runs {\n    cursor: pointer;\n\n    & .circle {\n      fill: ",";\n      stroke: ",";\n      stroke-width: 1;\n      position: relative;\n      z-index: 5;\n\n      &:hover,\n      &--selected {\n        fill: ",";\n\n        + .text {\n          visibility: visible;\n        }\n      }\n    }\n\n    & .text {\n      font-family: sans-serif;\n      text-anchor: middle;\n      fill: ",";\n      position: relative;\n      z-index: 10;\n      pointer-events: none;\n      visibility: hidden;\n    }\n  }\n"]);return re=function(){return t},t}var ae=g.a.div(re(),h,O,v,j,v),ce=function(t){var e=t.matchingRunsBySegmentGroups,n=t.matchingRunsByHighestBestEfforts,c=t.matchingRunsBySegments,i=t.showSegmentGroupRuns,u=t.showSegmentRuns,s=t.showBestEffortRuns,l=60,d=60,f=60,m=60,b=800-m-d,p=600-l-f,g=Object(r.useContext)(Pt),h=g.setSelectedItem,v=Object(Tt.a)(g,["setSelectedItem"]),O=Object(r.useRef)(),j=wt(O),x=Object(r.useRef)(),E=Object(r.useRef)(),y=Object(r.useRef)(),R=Object(r.useRef)(),w=Object(r.useRef)(),S=Object(r.useRef)(),k=Object(r.useRef)(),_=Object(r.useRef)(),T=Object(r.useMemo)(function(){return i?e.map(function(t){return Object(q.a)({},t,{type:"SEGMENT_GROUP"})}):[]},[e,i]),B=Object(r.useMemo)(function(){return s?n.map(function(t){return Object(q.a)({},t,{type:"HIGHEST_BEST_EFFORT"})}):[]},[n,s]),C=Object(r.useMemo)(function(){return u?c.map(function(t){return Object(q.a)({},t,{type:"SEGMENT"})}):[]},[c,u]),F=Object(r.useMemo)(function(){return Object(o.a)(B).concat(Object(o.a)(T),Object(o.a)(C))},[n,e,c,s,i,u]);return Object(r.useEffect)(function(){var t=Object(Ct.c)(O.current).append("svg").attr("viewBox","0 0 ".concat(b+m+d," ").concat(p+l+f)).append("g").attr("class","container").attr("transform","translate(".concat(m,", ").concat(l,")"));S.current=t,k.current=t.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(p,")")),_.current=t.append("g").attr("class","y-axis"),x.current=Object(Ft.d)().range([0,b]),y.current=Object(Ft.b)().range([0,p]),w.current=Object(Ft.c)().range([5,10,20,30,50]),E.current=Object(Ht.a)(x.current),R.current=Object(Ht.b)(R.current).ticks(10,"~s")},[O]),Object(r.useEffect)(function(){if(j){var t=x.current,e=y.current,n=w.current,r=E.current,a=R.current,c=S.current,i=k.current,o=_.current;if(0===F.length){var u=Date.now();t.domain([te()(u,1),u]),e.domain([21097,0]),n.domain([0,5])}else t.domain([Object(ee.a)(F,function(t){return t.date}).date,Object(J.a)(F,function(t){return t.date}).date]),e.domain([Object(J.a)(F,function(t){return t.distance}).distance,0]),n.domain([0,Object(J.a)(F,function(t){return t.count}).count]);var s=Object(At.a)().duration(750).ease(Gt.d);r.scale(t),a.scale(e),i.transition(s).call(r),o.transition(s).call(a);var l=c.selectAll("g.runs").data(F,function(t){return t.id}),d=l.enter(),f=l.exit(),m=Object(At.a)().duration(250);f.select("circle").transition(m).attr("r",0),f.transition(m).attr("opacity",0).remove(),l.select("circle").transition(m).attr("r",function(t){return n(t.count)});var b=d.append("g").attr("opacity",1).attr("class","runs").on("click",function(t){switch(t.type){case"HIGHEST_BEST_EFFORT":window.open("/BestEffort/".concat(t.id),"_self");break;case"SEGMENT_GROUP":window.open("/SegmentGroup/".concat(t.id),"_self");break;case"\x7fSEGMENT":window.open("/Segment/".concat(t.id),"_self")}}).on("mouseover",h).on("mouseout",function(){return h()});b.append("circle").attr("class","circle").attr("r",0).attr("cx",function(e){return t(e.date)}).attr("cy",function(t){return e(t.distance)}).transition(m).delay(function(){return Object(ne.a)(750)}).attr("r",function(t){return n(t.count)}),b.append("text").attr("class","text").attr("x",function(e){return t(e.date)}).attr("y",function(t){return e(t.distance)}).text(function(t){return t.label})}},[F,O,j]),Object(r.useEffect)(function(){if(j){var t=y.current,e=w.current,n=S.current,r=v.type,a=v.id,c=[];switch(r){case"HIGHEST_BEST_EFFORT":c=B;break;case"SEGMENT_GROUP":c=T;break;case"SEGMENT":c=C}var i=Object(U.a)(c,function(t){return t.id===a}),o=Object(At.a)().duration(250),u=n.selectAll("g.runs").data(i?[i]:[],function(t){return t.id});u.select(".circle").classed("circle--selected",!0),u.select(".text").transition(o).attr("y",function(n){return t(n.distance)-e(n.count)-5});var s=u.exit();s.select(".circle").classed("circle--selected",!1),s.select(".text").attr("y",function(e){return t(e.distance)})}},[F,O,j,v]),a.a.createElement(ae,{className:"ChartRunsByFrequency",ref:O})};ce.defaultProps={matchingRunsPerSegmentGroups:[],matchingRunsByHighestBestEfforts:[],matchingRunsPerSegments:[],showBestEffortRuns:!1,showSegmentGroupRuns:!1,showSegmentRuns:!1};var ie=ce;function oe(){var t=Object(p.a)(["\n  flex: 1;\n"]);return oe=function(){return t},t}function ue(){var t=Object(p.a)(["\n  flex: 2;\n  max-height: 600px;\n"]);return ue=function(){return t},t}function se(){var t=Object(p.a)(["\n  font-size: 48px;\n  text-align: center;\n"]);return se=function(){return t},t}function le(){var t=Object(p.a)(["\n  margin: 50px 20px;\n  position: relative;\n  display: flex;\n"]);return le=function(){return t},t}var de=g.a.section(le()),fe=g.a.h2(se()),me=g.a.div(ue()),be=g.a.div(oe()),pe=function(t){var e=t.athleteId,n=t.longestRun,c=t.biggestFan,i=t.totalRuns,u=t.topKudosers,s=t.matchingRunsBySegmentGroups,d=t.matchingRunsByHighestBestEfforts,f=t.matchingRunsBySegments,m=t.history,b=Object(r.useMemo)(function(){return Object(M.a)(Object(Y.a)(s,function(t,e){var n=Object(J.a)(t,function(t){return t.distance}).distance,r=Object(L.a)(t),a=r.name;return{id:r.id,count:t.length,label:a,distance:n,date:new Date(Object(J.a)(t,function(t){return t.start_date}).start_date)}}))},[s]),p=Object(r.useMemo)(function(){return Object(M.a)(Object(Y.a)(f,function(t,e){var n=Object(U.a)(t[0].segment_efforts,function(t){return t.segment.id.toString()===e}).segment,r=n.name,a=n.distance;return{id:n.id,count:t.length,label:r,distance:a,date:new Date(Object(J.a)(t,function(t){return t.start_date}).start_date)}}))},[f]),g=Object(r.useMemo)(function(){return Object(M.a)(Object(Y.a)(Object(dt.a)(d,function(t){return!Object(ft.a)(t)}),function(t,e){var n=Object(U.a)(t[0].best_efforts,function(t){return t.distance.toString()===e}),r=n.name,a=n.distance;return{id:a,count:t.length,label:r,distance:a,date:new Date(Object(J.a)(t,function(t){return t.start_date}).start_date)}}))},[d]),h=Object(r.useMemo)(function(){var t=Object(J.a)(Object(M.a)(s),function(t){return t.length});return[Object(mt.a)(t),t.length]},[s]),v=Object(A.a)(h,2),O=v[0],j=v[1];return a.a.createElement("div",null,a.a.createElement(_t,{longestRun:{id:n.id,name:n.name,distance:n.distance,date:n.start_date},mostFrequentRun:{id:O.id,name:O.name,count:j,date:new Date(O.start_date).toISOString()},biggestFan:{id:c.id,name:"".concat(c.firstname," ").concat(c.lastname),count:c.kudosCount,picture:c.profile},totalRuns:{athleteId:e,count:i.count}}),a.a.createElement(fe,null,a.a.createElement(l.c,{id:"summary.mostFrequentRunsTitle"})),a.a.createElement(de,null,a.a.createElement(me,null,a.a.createElement(ie,{matchingRunsBySegmentGroups:b,matchingRunsByHighestBestEfforts:g,matchingRunsBySegments:p,showBestEffortRuns:!0,showSegmentGroupRuns:!0})),a.a.createElement(be,null,a.a.createElement(Vt,{ordered:!0,items:Object(D.a)(Object(o.a)(b.map(function(t){return Object(q.a)({},t,{type:"SEGMENT_GROUP",onClick:function(){return m.push("/SegmentGroup/".concat(t.id))}})})).concat(Object(o.a)(g.map(function(t){return Object(q.a)({},t,{type:"HIGHEST_BEST_EFFORT",onClick:function(){return m.push("/HighestBestEffort/".concat(t.id))}})}))),"count","desc").map(function(t){var e=t.label,n=t.count,r=t.id,a=t.type;return{onClick:t.onClick,label:"".concat(Object(bt.a)(e,{separator:/,? +/})," (").concat(n,")"),id:r,type:a}})}))),a.a.createElement(fe,null,a.a.createElement(l.c,{id:"summary.topKudosersTitle"})),a.a.createElement(de,null,a.a.createElement(me,null,a.a.createElement(Mt,{kudosers:u})),a.a.createElement(be,null,a.a.createElement(Vt,{ordered:!0,items:u.map(function(t){var e=t.id,n=t.kudosCount,r=t.firstname,a=t.lastname;return{onClick:function(){return window.open("https://www.strava.com/athletes/".concat(e),"_blank")},label:"".concat(r," ").concat(a," (").concat(n,")"),id:e,type:"KUDOSER"}})}))))};pe.defaultProps={longestRun:void 0,biggestFan:void 0,totalRuns:void 0,topKudosers:[],matchingRunsBySegmentGroups:{},matchingRunsByBestEfforts:{},matchingRunsByHighestBestEfforts:{},matchingRunsBySegments:{},history:{push:function(){}}};var ge=pe,he=n(171),ve=n(138),Oe=n(140),je=n.n(Oe),xe=n(179);function Ee(){var t=Object(p.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n"]);return Ee=function(){return t},t}var ye=g.a.div(Ee(),h),Re=function(t){var e=t.runs,n=60,c=60,i=60,u=60,s=800-u-c,l=600-n-i,d=Object(r.useContext)(Pt),f=d.setSelectedItem,m=Object(Tt.a)(d,["setSelectedItem"]),b=Object(r.useRef)(),p=wt(b),g=Object(r.useRef)(),v=Object(r.useRef)(),x=Object(r.useRef)(),E=Object(r.useRef)(),y=Object(r.useRef)(),R=Object(r.useRef)(),w=Object(r.useRef)(),S=Object(r.useMemo)(function(){return e.map(function(t){return Object(q.a)({},t,{color:"rgb(".concat(Object(ne.a)(64),", ").concat(Object(ne.a)(64),", ").concat(Object(ne.a)(128),")")})},[e])}),k=function(t){return Object(xe.a)(t,function(t){return t.time})},_=function(t){return Object(xe.a)(t,function(t){return t.distance})};return Object(r.useEffect)(function(){var t=Object(Ct.c)(b.current).append("svg").attr("viewBox","0 0 ".concat(s+u+c," ").concat(l+n+i)),e=t.append("defs").append("linearGradient").attr("id","areaGradient");e.append("stop").attr("offset","0%").attr("stop-color",h),e.append("stop").attr("offset","100%").attr("stop-color",j);var r=t.append("g").attr("class","container").attr("transform","translate(".concat(u,", ").concat(n,")"));y.current=r,R.current=r.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(l,")")),w.current=r.append("g").attr("class","y-axis"),g.current=Object(Ft.b)().range([0,s]),x.current=Object(Ft.b)().range([0,l]),v.current=Object(Ht.a)(g.current),E.current=Object(Ht.b)(E.current)},[b]),Object(r.useEffect)(function(){if(p){var t=g.current,n=x.current,r=v.current,a=E.current,c=y.current,i=R.current,u=w.current;0===Object.keys(e).length?(t.domain([0,je()(new Date(0),1).getTime()]),n.domain([21097,0])):(t.domain([0,k(Object(J.a)(e.map(function(t){return t.splits}),k))]),n.domain([_(Object(J.a)(e.map(function(t){return t.splits}),_)),0]));var s=Object(At.a)().duration(750).ease(Gt.d);r.scale(t),a.scale(n),i.transition(s).call(r),u.transition(s).call(a);var l=Object(ve.c)().x(function(e){return t(e.time)}).y(function(t){return n(t.distance)}).curve(ve.b),d=c.selectAll("g.runs").data(S,function(t){return t.id}),m=d.enter(),b=d.exit();m.append("path").attr("class","line").attr("d",function(t){return l([{speed:0,distance:0,time:0}].concat(Object(o.a)(t.splits.map(function(e,n){return Object(Bt.a)(t.splits,n+1).reduce(function(t,e){return Object(q.a)({},t,{time:t.time+e.time,distance:t.distance+e.distance})})}))))}).attr("stroke",function(t){return t.color}).attr("stroke-width",2).attr("fill","none").attr("stroke-dasharray",function(){var t=this.getTotalLength();return t+" "+t}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).on("mouseover",function(t){return f(t)}).on("mouseout",function(){return f()}).transition().duration(1e4).ease(Gt.b).attr("stroke-dashoffset",0),b.remove()}},[e,b,p]),Object(r.useEffect)(function(){if(p){var t=g.current,n=x.current,r=y.current,a=m.type,c=m.id,i=Object(U.a)(e,function(t){return t.id===c&&t.type===a});if(i){var u=r.selectAll(".line").data([i],function(t){return t.id});u.attr("stroke","white"),u.exit().attr("stroke","black");var s=Object(ve.a)().x(function(e){return t(e.time)}).y1(0).y0(n(0)),l=[{speed:0,distance:0,time:0}].concat(Object(o.a)(i.splits.map(function(t,e){return Object(Bt.a)(i.splits,e+1).reduce(function(t,e){return Object(q.a)({},t,{time:t.time+e.time,distance:t.distance+e.distance})})})));l=l.map(function(t,e){if(l[e+1])return[t,l[e+1]]}).filter(function(t){return t});var d=r.selectAll(".area").data(l).enter().append("g").attr("class","area").attr("opacity",0);d.transition().duration(250).attr("opacity",.2),d.append("path").attr("d",function(t){return s(t)}).attr("fill","url(#areaGradient)").attr("stroke",O)}else r.selectAll(".line").data(S,function(t){return t.id}).attr("stroke",function(t){return t.color}),r.selectAll(".area").remove()}},[e,b,p,m]),a.a.createElement(ye,{className:"ChartEvolutionOverTime",ref:b})};Re.defaultProps={runs:[]};var we=Re;function Se(){var t=Object(p.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .bar {\n    rect {\n      fill: ",";\n    }\n\n    text {\n      fill: white;\n\n      &.bar-label {\n        fill: ",";\n        opacity: 0;\n        text-anchor: middle;\n      }\n    }\n\n    &--selected,\n    &:hover,\n    &:focus {\n      rect {\n        fill: ",";\n      }\n\n      text.bar-label {\n        opacity: 1;\n      }\n    }\n  }\n\n  & .bar-label {\n  }\n"]);return Se=function(){return t},t}var ke=g.a.div(Se(),h,O,v,j),_e=function(t){var e=t.runs,n=t.intl,c=60,i=60,o=60,u=60,s=800-u-i,l=600-c-o,d=Object(r.useContext)(Pt),f=d.setSelectedItem,m=Object(Tt.a)(d,["setSelectedItem"]),b=Object(r.useRef)(),p=wt(b),g=Object(r.useRef)(),h=Object(r.useRef)(),v=Object(r.useRef)(),O=Object(r.useRef)(),j=Object(r.useRef)();return Object(r.useEffect)(function(){var t=Object(Ct.c)(b.current).append("svg").attr("viewBox","0 0 ".concat(s+u+i," ").concat(l+c+o)).append("g").attr("class","container").attr("transform","translate(".concat(u,", ").concat(c,")"));O.current=t,j.current=t.append("g").attr("class","y-axis"),g.current=Object(Ft.a)().padding(.2).range([0,s]),h.current=Object(Ft.b)().range([l,0]),v.current=Object(Ht.b)(v.current).ticks(10,"~s")},[b]),Object(r.useEffect)(function(){if(p){var t=g.current,r=h.current,a=v.current,c=O.current,i=j.current;0===Object.keys(e).length?(t.domain([]),r.domain([21097,0])):(t.domain(e.map(function(t){return t.id})),r.domain([0,Object(J.a)(e,function(t){return t.distance}).distance]));var o=Object(At.a)().duration(750).ease(Gt.d);a.scale(r),i.transition(o).call(a);var u=c.selectAll("g.bar").data(e,function(t){return t.id}).enter().append("g").attr("class","bar");u.append("rect").attr("x",function(e){return t(e.id)}).attr("y",function(t){return l-r(t.distance)}).attr("width",function(){return t.bandwidth()}).on("mouseover",f).on("mouseout",function(){return f()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return r(t.distance)}).attr("height",function(t){return l-r(t.distance)}),u.append("text").attr("class","bar-label").attr("x",function(e){return t(e.id)+t.bandwidth()/2}).attr("y",function(t){return l+20}).text(function(t){return t.name}),u.append("text").attr("x",function(e){return t(e.id)+t.bandwidth()-5}).attr("y",function(t){return l}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+t.bandwidth()-5,", ").concat(l,")")}).text(function(t){return"".concat(t.distance," ").concat(n.formatMessage({id:"chartDistanceComparison.meters"}))})}},[e,b,p]),Object(r.useEffect)(function(){if(p){var t=O.current,n=m.type,r=m.id,a=Object(U.a)(e,function(t){return t.id===r&&t.type===n}),c=t.selectAll(".bar").data(a?[a]:[],function(t){return t.id});c.classed("bar--selected",!0),c.exit().classed("bar--selected",!1)}},[e,b,p,m]),a.a.createElement(ke,{className:"ChartDistanceComparison",ref:b})};_e.defaultProps={runs:[]};var Te=Object(l.f)(_e);function Be(){var t=Object(p.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .bar {\n    rect {\n      &.average {\n        fill: black;\n      }\n      &.max {\n        fill: ",";\n      }\n    }\n\n    text {\n      &.bar-label {\n        fill: ",";\n        opacity: 0;\n        text-anchor: middle;\n      }\n      &.speed {\n        fill: white;\n        font-size: 12px;\n      }\n    }\n\n    &--selected,\n    &:hover,\n    &:focus {\n      rect {\n        &.average,\n        &.max {\n          fill: ",";\n        }\n      }\n\n      text.bar-label {\n        opacity: 1;\n      }\n    }\n  }\n\n  & .bar-label {\n  }\n"]);return Be=function(){return t},t}var Ce=g.a.div(Be(),h,O,v,j),Fe=function(t){var e=t.runs,n=t.mode,c=60,i=60,o=60,u=60,s=800-u-i,l=600-c-o,d=Object(r.useContext)(Pt),f=d.setSelectedItem,m=Object(Tt.a)(d,["setSelectedItem"]),b=Object(r.useRef)(),p=wt(b),g=Object(r.useRef)(),h=Object(r.useRef)(),v=Object(r.useRef)(),O=Object(r.useRef)(),j=Object(r.useRef)(),x=function(t){return 3600*t/1e3},E=function(t){return 16.666666666667/t};return Object(r.useEffect)(function(){var t=Object(Ct.c)(b.current).append("svg").attr("viewBox","0 0 ".concat(s+u+i," ").concat(l+c+o)).append("g").attr("class","container").attr("transform","translate(".concat(u,", ").concat(c,")"));O.current=t,j.current=t.append("g").attr("class","y-axis"),g.current=Object(Ft.a)().padding(.2).range([0,s]),h.current=Object(Ft.b)().range([l,0]),v.current=Object(Ht.b)(v.current).ticks(10,"~s")},[b]),Object(r.useEffect)(function(){if(p){var t=g.current,n=h.current,r=v.current,a=O.current,c=j.current;0===Object.keys(e).length?(t.domain([]),n.domain([0,25])):(t.domain(e.map(function(t){return t.id})),n.domain([0,x(Object(J.a)(e,function(t){return t.max_speed}).max_speed)]));var i=Object(At.a)().duration(750).ease(Gt.d);r.scale(n),c.transition(i).call(r);var o=a.selectAll("g.bar").data(e,function(t){return t.id}).enter().append("g").attr("class","bar");o.append("rect").attr("class","average").attr("x",function(e){return t(e.id)}).attr("y",function(t){return n(x(t.average_speed))}).attr("width",function(){return t.bandwidth()}).on("mouseover",f).on("mouseout",function(){return f()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return n(x(t.average_speed))}).attr("height",function(t){return l-n(x(t.average_speed))}),o.append("rect").attr("class","max").attr("x",function(e){return t(e.id)}).attr("y",function(t){return l-n(x(t.max_speed))+n(x(t.average_speed))}).attr("width",function(){return t.bandwidth()}).on("mouseover",f).on("mouseout",function(){return f()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return n(x(t.max_speed))}).attr("height",function(t){return l-n(x(t.max_speed))-(l-n(x(t.average_speed)))}),o.append("text").attr("class","bar-label").attr("x",function(e){return t(e.id)+t.bandwidth()/2}).attr("y",function(){return l+20}).text(function(t){return t.name}),o.append("text").attr("class","speed").attr("x",function(e){return t(e.id)+t.bandwidth()-5}).attr("y",function(){return l}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+t.bandwidth()-5,", ").concat(l,")")}).text(function(t){return"".concat(x(t.average_speed).toPrecision(2)," km/h (").concat(E(t.average_speed).toPrecision(2)," min/km)")}),o.append("text").attr("class","speed").attr("x",function(e){return t(e.id)+16}).attr("y",function(t){return l-(l-n(x(t.average_speed)))}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+16,", ").concat(l-(l-n(x(e.average_speed))),")")}).text(function(t){return"".concat(x(t.max_speed).toPrecision(2)," km/h (").concat(E(t.max_speed).toPrecision(2)," min/km)")})}},[e,b,p,n]),Object(r.useEffect)(function(){if(p){var t=O.current,n=m.type,r=m.id,a=Object(U.a)(e,function(t){return t.id===r&&t.type===n}),c=t.selectAll(".bar").data(a?[a]:[],function(t){return t.id});c.classed("bar--selected",!0),c.exit().classed("bar--selected",!1)}},[e,b,p,m]),a.a.createElement(Ce,{className:"ChartPaceComparison",ref:b})};Fe.defaultProps={runs:[],mode:"absolute"};var He=Fe;function Ge(){var t=Object(p.a)(["\n  flex: 1;\n"]);return Ge=function(){return t},t}function Ae(){var t=Object(p.a)(["\n  flex: 2;\n"]);return Ae=function(){return t},t}function Pe(){var t=Object(p.a)(["\n  display: flex;\n"]);return Pe=function(){return t},t}function qe(){var t=Object(p.a)(["\n  margin-left: 32px;\n  margin-right: 32px;\n  display: inline-block;\n  background: ","\n\n  font-size: 48px;\n  font-style: oblique;\n  letter-spacing: 2px;\n  text-decoration: none;\n\n  cursor: pointer;\n\n  &:hover, &:active, &:focus, &.selected {\n    color: ",";\n    text-decoration: underline;\n  }\n\n  &:active {\n    color: ",";\n  }\n"]);return qe=function(){return t},t}function Ie(){var t=Object(p.a)(["\n  margin: 20px 0;\n\n  text-align: center;\n"]);return Ie=function(){return t},t}function ze(){var t=Object(p.a)(["\n  text-align: center;\n"]);return ze=function(){return t},t}var Me=g.a.h1(ze()),De=g.a.nav(Ie()),Ne=g.a.a(qe(),h,O,j),Ke=g.a.div(Pe()),Ue=g.a.div(Ae()),Le=g.a.div(Ge()),Ye=Object(l.f)(function(t){var e=t.title,n=t.runs,c=t.type,i=t.intl,o=Object(r.useMemo)(function(){return[{label:i.formatMessage({id:"runComparison.evolutionOverTime"})},{label:i.formatMessage({id:"runComparison.speedComparison"})},{label:i.formatMessage({id:"runComparison.distanceComparison"})}]},[]),u=Object(r.useState)(o[0]),s=Object(A.a)(u,2),l=s[0],d=s[1];return a.a.createElement("div",null,a.a.createElement(Me,null,e),a.a.createElement(De,null,o.map(function(t,e){return a.a.createElement(Ne,{key:e,className:l===t?"selected":"",onClick:function(){return d(t)}},t.label)})),a.a.createElement(Ke,null,a.a.createElement(Ue,null,l===o[0]&&a.a.createElement(we,{runs:n.map(function(t){var e=t.id,n=t.splits_metric;return{id:e,type:c,splits:n.map(function(t){return{speed:t.average_speed,distance:t.distance,time:t.elapsed_time}})}})}),l===o[1]&&a.a.createElement(He,{runs:n.map(function(t){return Object(q.a)({},Object(he.a)(t,"id","name","max_speed","average_speed"),{type:c})})}),l===o[2]&&a.a.createElement(Te,{runs:n.map(function(t){return Object(q.a)({},Object(he.a)(t,"id","name","distance"),{type:c})})})),a.a.createElement(Le,null,a.a.createElement(Vt,{ordered:!0,items:Object(D.a)(n,"start_date","desc").map(function(t){var e=t.name,n=t.id;return{label:Object(bt.a)(e,{separator:/,? +/}),onClick:function(){return window.open("https://www.strava.com/activities/".concat(n),"_blank")},id:n,type:c}})}))))}),We=function(t){var e=t.children,n=Object(r.useState)({}),c=Object(A.a)(n,2),i=c[0],o=c[1],u=Object(r.useMemo)(function(){return Object(q.a)({},i,{setSelectedItem:function(t){o(t||{id:void 0,type:""})}})},[i]);return a.a.createElement(Pt.Provider,{value:u},e)};We.defaultProps={children:void 0};var Je=We,Ze=function(t){var e=function(t){var e=Object(r.useState)(new X),n=Object(A.a)(e,1)[0],a=Object(r.useState)(!1),c=Object(A.a)(a,2),i=c[0],u=c[1],s=Object(r.useState)(void 0),l=Object(A.a)(s,2),d=l[0],f=l[1],m=Object(r.useState)(void 0),b=Object(A.a)(m,2),p=b[0],g=b[1],h=Object(r.useState)([]),v=Object(A.a)(h,2),O=v[0],j=v[1],x=Object(r.useState)(void 0),E=Object(A.a)(x,2),y=E[0],R=E[1],w=Object(r.useState)(void 0),S=Object(A.a)(w,2),k=S[0],_=S[1],T=Object(r.useState)(void 0),B=Object(A.a)(T,2),C=B[0],F=B[1],H=Object(r.useState)(void 0),G=Object(A.a)(H,2),P=G[0],Q=G[1],V=Object(r.useState)(void 0),tt=Object(A.a)(V,2),et=tt[0],nt=tt[1],rt=Object(r.useState)(void 0),at=Object(A.a)(rt,2),ct=at[0],it=at[1],ot=Object(r.useState)(void 0),ut=Object(A.a)(ot,2),st=ut[0],lt=ut[1],dt=Object(r.useState)(void 0),ft=Object(A.a)(dt,2),mt=ft[0],bt=ft[1],pt=Object(r.useState)(void 0),gt=Object(A.a)(pt,2),ht=gt[0],vt=gt[1];return Object(r.useEffect)(function(){n.init(t).then(function(t){var e=t.currentAthlete,n=t.activities,r=t.kudos,a=t.totalRuns;nt(e.id),_(e.profile),F("".concat(e.firstname," ").concat(e.lastname)),Q(a);var c=Object(I.a)(Object(z.a)(Object(M.a)(r)),function(t){return t.id}),i=Object(D.a)(Object(N.a)(Object(K.a)(Object(z.a)(Object(M.a)(r)),function(t){return t.id}),function(t,e){var n=Object(U.a)(c,function(t){return t.id.toString()===e});return Object(q.a)({},n,{kudosCount:t})}),"kudosCount","desc");j(i),R(Object(L.a)(i)),f(Object(L.a)(Object(D.a)(n,"distance","desc"))),g(Object(L.a)(Object(D.a)(n,"average_speed","desc")));var s=Object(D.a)(Object(I.a)(Object(z.a)(Object(N.a)(n,function(t){return t.best_efforts.map(function(t){return{name:t.name,distance:t.distance}})})),function(t){return t.distance}),"distance","asc");lt(Object(q.a)({},Object(Y.a)(Object(W.a)(s,function(t){return t.distance}),function(t){return Object(M.a)(n).filter(function(e){var n=e.best_efforts;return Object(J.a)(n,function(t){return t.distance}).distance===t.distance})}))),it(Object(q.a)({},Object(Y.a)(Object(W.a)(s,function(t){return t.distance}),function(t){return Object(M.a)(n).filter(function(e){return e.best_efforts.some(function(e){return e.distance===t.distance})})})));var l=Object(D.a)(Object(I.a)(Object(z.a)(Object(N.a)(n,function(t){return t.segment_efforts})),function(t){return t.segment.id}),"distance","asc");bt(Object(q.a)({},Object(Y.a)(Object(W.a)(l,function(t){return t.segment.id}),function(t){return Object(M.a)(n).filter(function(e){return e.segment_efforts.some(function(e){return e.segment.id===t.segment.id})})})));var d=Object(o.a)(Object(M.a)(n)),m={},b=function(t,e){var n=t.segment_efforts,r=e.segment_efforts,a=Object(I.a)(Object(o.a)(n).concat(Object(o.a)(r)),function(t){return t.segment.id});return Object(I.a)(Object(o.a)(Object(Z.a)(n,r,function(t){return t.segment.id})).concat(Object(o.a)(Object(Z.a)(r,n,function(t){return t.segment.id}))),function(t){return t.segment.id}).length/a.length<.9},p=!0,h=!1,v=void 0;try{for(var O,x=Object(M.a)(n)[Symbol.iterator]();!(p=(O=x.next()).done);p=!0){var E=O.value,y=[],w=!0,S=!1,k=void 0;try{for(var T,B=d[Symbol.iterator]();!(w=(T=B.next()).done);w=!0){var C=T.value;b(E,C)&&y.push(C)}}catch(H){S=!0,k=H}finally{try{w||null==B.return||B.return()}finally{if(S)throw k}}d=$.a.apply(void 0,[d].concat(y)),y.length>0&&(m[E.id]=y)}}catch(H){h=!0,v=H}finally{try{p||null==x.return||x.return()}finally{if(h)throw v}}vt(m),u(!0)})},[t]),{isReady:i,athleteId:et,profilePicture:k,fullName:C,longestRun:d,fastestRun:p,topKudosers:O,biggestFan:y,totalRuns:P,matchingRunsByBestEfforts:ct,matchingRunsByHighestBestEfforts:st,matchingRunsBySegments:mt,matchingRunsBySegmentGroups:ht}}(t.code),n=e.isReady,c=e.athleteId,i=e.profilePicture,u=e.fullName,l=e.longestRun,d=e.topKudosers,f=e.biggestFan,m=e.matchingRunsBySegmentGroups,b=e.matchingRunsByHighestBestEfforts,p=e.totalRuns;return a.a.createElement(Je,null,a.a.createElement(R,null,a.a.createElement(lt,{athleteId:c,profilePicture:i,fullName:u}),a.a.createElement(P.a,null,a.a.createElement(s.a,{path:"/",exact:!0,render:function(t){return n?a.a.createElement(ge,Object.assign({},t,{athleteId:c,longestRun:l,biggestFan:f,totalRuns:p,topKudosers:d,matchingRunsBySegmentGroups:m,matchingRunsByHighestBestEfforts:b})):null}}),a.a.createElement(s.a,{path:"/SegmentGroup/:id",render:function(t){var e=m[t.match.params.id],n=Object(A.a)(e,1)[0];return a.a.createElement(Ye,Object.assign({},t,{runs:e,title:n&&n.name,type:"SEGMENT_GROUP"}))}}),a.a.createElement(s.a,{path:"/HighestBestEffort/:id",render:function(t){var e=b[t.match.params.id],n=Object(A.a)(e,1)[0];return a.a.createElement(Ye,Object.assign({},t,{runs:e,title:n&&n.name,type:"HIGHEST_BEST_EFFORT"}))}})),a.a.createElement(T,null)))},$e=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce(function(r,a){var c=e[a],i=n?"".concat(n,".").concat(a):a;return"string"===typeof c?r[i]=c:Object.assign(r,t(c,i)),r},{})},Qe={"en-US":$e({introduction:{title:"Welcome to Hook3! A Strava performance analyzer created using React hooks and D3!",description:"Get pointless statistics about you such as: <div>Your performance over time on matching group of segments!</div><div>Your name!</div>",getStartedButton:"Let's get started!"},header:{hello:"Hi {name}!"},footer:{source:"Source code"},summary:{mostFrequentRunsTitle:"Your most frequent runs",topKudosersTitle:"People who give you the most kudos"},highlights:{longestRunTitle:"Your longest run was <strong>{run}</strong>",longestRunHighlight:"{distance} kilometers",longestRunSubtitle:"Done on ",mostFrequentRunTitle:"Your most frequent run is <strong>{run}</strong>",mostFrequentRunHighlight:"{count} times",mostFrequentRunSubtitle:"Last run on ",biggestFanTitle:"Your biggest fan is <strong>{fan}</strong>",biggestFanSubtitle:"{kudos} total kudos!",totalRunsTitle:"You have a total of",totalRunsHighlight:"{runs} runs",totalRunsSubtitle:"so far!"},runComparison:{evolutionOverTime:"Evolution over time",speedComparison:"Speed comparison",distanceComparison:"Distance comparison"},chartDistanceComparison:{meters:"meters"}}),"fr-FR":$e({introduction:{title:"Bienvenue Hook3! Un analyseur de performance Strava cr\xe9\xe9 avec React hooks et D3!",description:"Des statistiques inutiles pour toi comme: <div>Ta performance sur des groupes de segments (regroup\xe9s par cette sublime application) !</div><div>Ton nom (au cas o\xf9 tu l'aurais oubli\xe9) !</div>",getStartedButton:"C'est parti !"},header:{hello:"Salut {name} !"},footer:{source:"Code source"},summary:{mostFrequentRunsTitle:"Tes courses les plus fr\xe9quentes",topKudosersTitle:"Ceux qui te donnent le plus de kudos !"},highlights:{longestRunTitle:"Ta plus longue course est <strong>{run}</strong>",longestRunHighlight:"{distance} kilom\xe8tres",longestRunSubtitle:"Couru le ",mostFrequentRunTitle:"Ta course la plus fr\xe9quente est <strong>{run}</strong>",mostFrequentRunHighlight:"{count} fois",mostFrequentRunSubtitle:"Couru pour la derni\xe8re fois le ",biggestFanTitle:"Ton plus grand fan est <strong>{fan}</strong>",biggestFanSubtitle:"Un total de {kudos} kudos!",totalRunsTitle:"Tu as couru",totalRunsHighlight:"{runs} fois",totalRunsSubtitle:"au total !"},runComparison:{evolutionOverTime:"Evolution sur la dur\xe9e",speedComparison:"Comparaison de vitesse",distanceComparison:"Comparaison de distance"},chartDistanceComparison:{meters:"m\xe8tres"}})};Object(l.e)(Object(o.a)(f.a).concat(Object(o.a)(b.a)));var Ve=navigator.language&&navigator.languages[0]||navigator.language||navigator.userLanguage||"en-US";Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(150),n(152);i.a.render(a.a.createElement(function(){var t=new URLSearchParams(window.location.search),e=t.get("code"),n=t.get("error");return a.a.createElement(l.d,{locale:Ve,messages:Qe["fr-FR"]||Qe["en-US"]},e&&"access_denied"!==n?a.a.createElement(u.a,{basename:"/hook3"},a.a.createElement(s.a,{render:function(){return a.a.createElement(Ze,{code:e})}})):a.a.createElement(G,{onStart:function(){return window.open("https://www.strava.com/oauth/authorize?client_id=".concat("30519","&redirect_uri=").concat("https://lith-light-g.github.io/hook3","&response_type=code&approval_prompt=auto&scope=profile:read_all,activity:read_all"),"_self")}}))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[110,2,1]]]);
//# sourceMappingURL=main.1229879f.chunk.js.map