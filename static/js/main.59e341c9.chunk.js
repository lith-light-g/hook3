(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(t,e,n){t.exports=n(145)},142:function(t,e,n){},145:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(65),i=n.n(c),o=n(163),u=n(167),s=n(1),l=n(2),d="rgba(252, 169, 2, 1)",f="rgba(12, 8, 1, 1)",b="rgba(79, 19, 3, 1)",m="rgba(140, 18, 0, 1)";function p(){var t=Object(s.a)(["\n  background: ",";\n  padding: 5px 10px;\n  margin: 5px;\n\n  border: none;\n  border-radius: 5px;\n\n  color: white;\n\n  cursor: pointer;\n\n  &:hover {\n    background: ",";\n  }\n"]);return p=function(){return t},t}var O=l.a.button(p(),b,m);function h(){var t=Object(s.a)(["\n  background: ",";\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  max-width: 980px;\n\n  color: ",";\n"]);return h=function(){return t},t}var j=l.a.div(h(),"rgba(252, 230, 118, 1)",f);function v(){var t=Object(s.a)(["\n  font-size: 24px;\n  color: ",";\n  margin: 30px;\n\n  &:hover {\n    color: ",";\n  }\n"]);return v=function(){return t},t}function g(){var t=Object(s.a)(["\n  padding: 50px;\n  text-align: center;\n"]);return g=function(){return t},t}var x=l.a.footer(g()),E=l.a.a(v(),f,b),y=function(){return a.a.createElement(x,null,a.a.createElement(E,{href:"https://github.com/lith-light-g/hook3"},"Source code"),"-",a.a.createElement(E,{href:"https://lith-light-g.github.io/hook3/storybook"},"Storybook"))};function w(){var t=Object(s.a)(["\n  text-align: center;\n"]);return w=function(){return t},t}function R(){var t=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return R=function(){return t},t}var S=Object(l.a)(j)(R()),k=l.a.main(w()),_=function(t){var e=t.onStart;return a.a.createElement(S,null,a.a.createElement(k,null,a.a.createElement("div",null,a.a.createElement("h1",null,"Welcome to Hook3! A Strava performance analyzer created using React hooks and D3!"),a.a.createElement("article",null,"Get pointless statistics about you such as:",a.a.createElement("div",null,"Your performance over time on matching group of segments!"),a.a.createElement("div",null,"Your name!")),a.a.createElement(O,{onClick:e},"Let's get started!"))),a.a.createElement(y,null))},B=n(8),T=n(164),G=n(17),P=n(7),A=n(159),C=n(106),H=n(168),I=n(157),M=n(146),z=n(158),N=n(162),F=n(147),D=n(148),q=n(149),Y=n(166),K=n(150),L=n(151),U=n(60),W=n(104),J=function t(){var e=this;Object(W.a)(this,t),this.kudos={},this.laps={},this.init=function(t){return fetch("https://www.strava.com/oauth/token",{body:JSON.stringify({client_id:"30519",client_secret:"7d362c52b3f0019f66e9c518053495982450a497",code:t,grant_type:"authorization_code"}),method:"POST",headers:{"Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){var n=t.access_token,r=t.refresh_token,a=t.athlete,c=t.expires_at;e.accessToken=n,e.refreshToken=r,e.tokenExpiresAt=1e3*c,e.currentAthlete=a;var i=e.getAthleteStats().then(function(t){var n=t.all_run_totals;e.totalRuns=n}),o=e.getActivities().then(function(t){return Promise.all(t.filter(function(t){return"Run"===t.type}).map(function(t){return e.getActivityDetails(t.id).then(function(t){return e.activities=Object(P.a)({},e.activities,Object(U.a)({},t.id,t)),e.getKudosers(t.id).then(function(n){e.kudos=Object(P.a)({},e.kudos,Object(U.a)({},t.id,n))})})}))});return Promise.all([i,o]).then(function(){return{currentAthlete:a,totalRuns:e.totalRuns,activities:e.activities,kudos:e.kudos}})})},this.createStravaRequest=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat("https://www.strava.com/api/v3").concat(t),Object(P.a)({},n,{headers:Object(P.a)({},n.headers,{Authorization:"Bearer ".concat(e.accessToken)})})).then(function(t){return t.json()})},this.getAuthenticatedAthelete=function(){return e.createStravaRequest("/athlete")},this.getZones=function(){return e.createStravaRequest("/athlete/zones")},this.getAthleteStats=function(){return e.createStravaRequest("/athletes/".concat(e.currentAthlete.id,"/stats"))},this.getActivities=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e.createStravaRequest("/athlete/activities?page=".concat(t,"&per_page=100"))},this.getActivityDetails=function(t){return e.createStravaRequest("/activities/".concat(t))},this.getKudosers=function(t){return e.createStravaRequest("/activities/".concat(t,"/kudos"))},this.getLaps=function(t){return e.createStravaRequest("/activities/".concat(t,"/laps"))},this.getRoutes=function(){return e.createStravaRequest("/athletes/".concat(e.currentAthlete.id,"/routes"))},this.getRaces=function(){return e.createStravaRequest("/running_races")}},Z=n(152);function $(){var t=Object(s.a)(["\n  font-size: 48px;\n"]);return $=function(){return t},t}function Q(){var t=Object(s.a)(["\n  padding: 10px 30px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: space-between;\n"]);return Q=function(){return t},t}function V(){var t=Object(s.a)(["\n  background: ",";\n  padding: 10px;\n  flex: 0;\n\n  & img {\n    border: 5px solid ",";\n  }\n"]);return V=function(){return t},t}function X(){var t=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-start;\n"]);return X=function(){return t},t}var tt=l.a.header(X()),et=l.a.div(V(),d,f),nt=l.a.div(Q()),rt=l.a.h1($()),at=function(t){var e=t.profilePicture,n=t.fullName;return a.a.createElement(tt,null,a.a.createElement(et,null,a.a.createElement(Z.a,{to:"/"},a.a.createElement("img",{src:e,alt:""}))),a.a.createElement(nt,null,a.a.createElement(rt,null,"Hi ",n,"!")))};at.defaultProps={athleteId:void 0,profilePicture:"",fullName:""};var ct=at,it=n(156),ot=n(154),ut=n(107),st=n(155),lt=n(97),dt=n.n(lt);function ft(){var t=Object(s.a)([""]);return ft=function(){return t},t}function bt(){var t=Object(s.a)(["\n  font-size: 48px;\n  font-weight: bold;\n  padding: 5px;\n  transition: all 0.2s ease-in-out;\n  background: ",";\n\n  &:hover {\n    transform: scale(1.1);\n  }\n"]);return bt=function(){return t},t}function mt(){var t=Object(s.a)([""]);return mt=function(){return t},t}function pt(){var t=Object(s.a)(["\n  width: 50%;\n  min-height: 200px;\n  text-align: center;\n  float: left;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  color: ",";\n  line-height: 48px;\n  text-decoration: none;\n"]);return pt=function(){return t},t}var Ot=l.a.a(pt(),f),ht=l.a.div(mt()),jt=l.a.div(bt(),d),vt=l.a.div(ft()),gt=function(t){var e=t.url,n=t.renderTitle,r=t.renderHighlight,c=t.renderSubtitle;return a.a.createElement(Ot,{href:e,target:"_blank"},a.a.createElement(ht,null,n()),a.a.createElement(jt,null,r()),a.a.createElement(vt,null,c()))};gt.defaultProps={renderTitle:function(){},renderHighlight:function(){},renderSubtitle:function(){},url:void 0};var xt=gt,Et=function(t){var e=Object(r.useState)(!1),n=Object(B.a)(e,2),a=n[0],c=n[1];return Object(r.useEffect)(function(){var e=function(){return!!function(t){try{var e=t.getBoundingClientRect(),n=e.top,r=e.right,a=e.bottom,c=e.left;return n>=0&&c>=0&&a<=(window.innerHeight||document.documentElement.clientHeight)&&r<=(window.innerWidth||document.documentElement.clientWidth)}catch(i){return!1}}(t.current)&&(c(!0),!0)};return e()?function(){}:(t&&(window.addEventListener("scroll",e),window.addEventListener("resize",e)),function(){window.removeEventListener("scroll",e),window.removeEventListener("resize",e)})},[t]),a};function yt(){var t=Object(s.a)(["\n  min-height: 500px;\n  padding: 50px 20px;\n  position: relative;\n\n  & > *:nth-child(1) {\n    position: relative;\n  }\n  & > *:nth-child(1):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    bottom: 25%;\n    right: -","px;\n    height: ","%;\n    width: ","px;\n    transition: all 1s ease-in-out;\n  }\n  & > *:nth-child(1):before {\n    content: '';\n    background: ",";\n    position: absolute;\n    right: 25%;\n    bottom: -","px;\n    width: ","%;\n    height: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(2) {\n    position: relative;\n  }\n  & > *:nth-child(2):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    left: 25%;\n    bottom: -","px;\n    width: ","%;\n    height: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(3) {\n    position: relative;\n  }\n  & > *:nth-child(3):after {\n    content: '';\n    background: ",";\n    position: absolute;\n    top: 25%;\n    right: -","px;\n    height: ","%;\n    width: ","px;\n    transition: all 1s ease-in-out;\n  }\n\n  & > *:nth-child(4) {\n    position: relative;\n  }\n"]);return yt=function(){return t},t}var wt=l.a.div(yt(),f,2.5,function(t){return t.showBorders?50:0},5,f,2.5,function(t){return t.showBorders?50:0},5,f,2.5,function(t){return t.showBorders?50:0},5,f,2.5,function(t){return t.showBorders?50:0},5),Rt=function(t){var e=t.longestRun,n=t.mostFrequentRun,c=t.biggestFan,i=t.totalRuns,o=Object(r.useRef)(),u=Et(o);return a.a.createElement(wt,{ref:o,showBorders:u},a.a.createElement(xt,{url:"https://www.strava.com/activities/".concat(e.id),renderTitle:function(){return a.a.createElement("span",null,"Your longest run was"," ",a.a.createElement("strong",null,Object(st.a)(e.name,{separator:/,? +/})))},renderHighlight:function(){return a.a.createElement("strong",null,(e.distance/1e3).toPrecision(5)," km")},renderSubtitle:function(){return a.a.createElement("span",null,"Done on ",dt()(e.date,"dddd DD MMMM YYYY"))}}),a.a.createElement(xt,{url:"https://www.strava.com/activities/".concat(n.id),renderTitle:function(){return a.a.createElement("span",null,"Your most frequent run is"," ",a.a.createElement("strong",null,Object(st.a)(n.name,{separator:/,? +/})))},renderHighlight:function(){return a.a.createElement("strong",null,n.count," times")},renderSubtitle:function(){return a.a.createElement("span",null,"Last run on"," ",a.a.createElement("em",null,dt()(n.date,"dddd DD MMMM YYYY")))}}),a.a.createElement(xt,{url:"https://www.strava.com/athletes/".concat(c.id),renderTitle:function(){return a.a.createElement("span",null,"Your biggest fan is ",a.a.createElement("strong",null,c.name))},renderHighlight:function(){return a.a.createElement("img",{src:c.picture,alt:""})},renderSubtitle:function(){return a.a.createElement("strong",null,c.count," total kudos!")}}),a.a.createElement(xt,{url:"https://www.strava.com/athletes/".concat(i.athleteId),renderTitle:function(){return a.a.createElement("span",null,"You have run a total of")},renderHighlight:function(){return a.a.createElement("strong",null,i.count," times")},renderSubtitle:function(){return a.a.createElement("span",null,"so far!")}}))},St=n(25),kt=n(153),_t=n(4),Bt=n(16),Tt=n(26),Gt=n(12),Pt=n(27),At=Object(r.createContext)({type:"",id:void 0,setSelectedItem:function(){}});function Ct(){var t=Object(s.a)(["\n  & .x-axis text {\n    font-size: 16px;\n    text-anchor: middle;\n    font-family: Acme;\n  }\n\n  & .bar {\n    fill: ",";\n\n    &:hover,\n    &--selected {\n      fill: ",";\n    }\n  }\n\n  & .kudoser {\n    cursor: pointer;\n\n    & .label {\n      text-anchor: start;\n      font-size: 24px;\n      fill: white;\n      pointer-events: none;\n    }\n  }\n"]);return Ct=function(){return t},t}var Ht=l.a.div(Ct(),b,m),It=function(t){var e=Object(r.useContext)(At),n=e.setSelectedItem,c=Object(St.a)(e,["setSelectedItem"]),i=Object(r.useRef)(),o=Et(i),u=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useRef)(),b=Object(r.useRef)(),m=Object(kt.a)(t.kudosers,10);return Object(r.useEffect)(function(){var t=10,e=10,n=30,r=10,a=600-r-e,c=500-t-n,o=Object(_t.c)(i.current).append("svg").attr("viewBox","0 0 ".concat(a+r+e," ").concat(c+t+n));o.append("rect").attr("fill",d).attr("x",0).attr("y",0).attr("width",a+r+e).attr("height",c+t+n);var m=o.append("g").attr("class","container").attr("transform","translate(".concat(r,", ").concat(t,")"));f.current=m,b.current=m.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(c,")")),u.current=Object(Bt.b)().range([0,a]),l.current=Object(Bt.a)().padding(.2).range([0,c]),s.current=Object(Tt.a)(u.current)},[i]),Object(r.useEffect)(function(){if(o){var t=u.current,e=l.current,r=s.current,a=f.current,c=b.current;t.domain([0,Object(Y.a)(m,function(t){return t.kudosCount}).kudosCount]),e.domain(m.map(function(t){return t.id})),r.scale(t),c.call(r).selectAll("text");var i=a.selectAll("rect").data(m).enter().append("g").attr("class","kudoser").on("click",function(t){return window.open("https://www.strava.com/athletes/".concat(t.id),"_blank")}).on("mouseover",function(t){var e=t.id;return n({type:"KUDOSER",id:e})}).on("mouseout",function(){return n()});i.append("rect").attr("class","bar").attr("y",function(t){return e(t.id)}).attr("height",e.bandwidth()).transition().duration(750).ease(Gt.d).attr("x",function(){return 0}).attr("width",function(e){return t(e.kudosCount)});var d=i.append("g");d.attr("opacity",0).transition().duration(500).delay(function(t,e){return 750+50*e}).ease(Gt.c).attr("opacity",1),d.append("text").attr("class","label").attr("y",function(t){return e(t.id)+28}).transition().duration(500).delay(function(t,e){return 750+50*e}).ease(Gt.c).attr("x",function(){return 5}).text(function(t){return"".concat(t.firstname," ").concat(t.lastname)})}},[m,i,o]),Object(r.useEffect)(function(){if(o){var t,e=c.id;switch(c.type){case"KUDOSER":t=Object(N.a)(m,function(t){return t.id===e})}var n=f.current.selectAll(".bar").data(t?[t]:[],function(t){return t.id});n.classed("bar--selected",!0),n.exit().classed("bar--selected",!1)}},[c,m,o,i]),a.a.createElement(Ht,{className:"ChartTopKudosers",ref:i})};It.defaultProps={kudosers:[]};var Mt=It;function zt(){var t=Object(s.a)(["\n  &.selected {\n    color: ",";\n  }\n"]);return zt=function(){return t},t}function Nt(){var t=Object(s.a)(["\n  color: ",";\n  text-decoration: underline;\n\n  cursor: pointer;\n\n  &:hover {\n    color: ",";\n  }\n\n  &:active,\n  &.selected {\n    color: ",";\n  }\n"]);return Nt=function(){return t},t}function Ft(){var t=Object(s.a)(["\n  font-size: 24px;\n  line-height: 32px;\n"]);return Ft=function(){return t},t}function Dt(){var t=Object(s.a)([""]);return Dt=function(){return t},t}function qt(){var t=Object(s.a)([""]);return qt=function(){return t},t}var Yt=l.a.ol(qt()),Kt=l.a.ul(Dt()),Lt=l.a.li(Ft()),Ut=l.a.a(Nt(),f,b,m),Wt=l.a.span(zt(),m),Jt=function(t){var e=t.items,n=t.ordered,c=Object(r.useContext)(At),i=c.setSelectedItem,o=Object(St.a)(c,["setSelectedItem"]),u=n?Yt:Kt;return a.a.createElement(u,null,e.map(function(t,e){var n=t.label,r=t.onClick,c=t.id,u=t.type,s={onMouseOver:function(){return i({type:u,id:c})},onMouseOut:function(){return i()},className:o.type===u&&c===o.id?"selected":""};return a.a.createElement(Lt,{key:e},r?a.a.createElement(Ut,Object.assign({},s,{onClick:r}),n):a.a.createElement(Wt,s,n))}))};Jt.defaultProps={items:[],ordered:!1};var Zt=Jt,$t=n(108),Qt=n.n($t),Vt=n(165),Xt=n(161);function te(){var t=Object(s.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .runs {\n    cursor: pointer;\n\n    & .circle {\n      fill: ",";\n      stroke: ",";\n      stroke-width: 1;\n      position: relative;\n      z-index: 5;\n\n      &:hover,\n      &--selected {\n        fill: ",";\n\n        + .text {\n          visibility: visible;\n        }\n      }\n    }\n\n    & .text {\n      font-family: sans-serif;\n      text-anchor: middle;\n      fill: ",";\n      position: relative;\n      z-index: 10;\n      pointer-events: none;\n      visibility: hidden;\n    }\n  }\n"]);return te=function(){return t},t}var ee=l.a.div(te(),d,b,f,m,f),ne=function(t){var e=t.matchingRunsBySegmentGroups,n=t.matchingRunsByHighestBestEfforts,c=t.matchingRunsBySegments,i=t.showSegmentGroupRuns,o=t.showSegmentRuns,u=t.showBestEffortRuns,s=60,l=60,d=60,f=60,b=800-f-l,m=600-s-d,p=Object(r.useContext)(At),O=p.setSelectedItem,h=Object(St.a)(p,["setSelectedItem"]),j=Object(r.useRef)(),v=Et(j),g=Object(r.useRef)(),x=Object(r.useRef)(),E=Object(r.useRef)(),y=Object(r.useRef)(),w=Object(r.useRef)(),R=Object(r.useRef)(),S=Object(r.useRef)(),k=Object(r.useRef)(),_=Object(r.useMemo)(function(){return i?e.map(function(t){return Object(P.a)({},t,{type:"SEGMENT_GROUP"})}):[]},[e,i]),B=Object(r.useMemo)(function(){return u?n.map(function(t){return Object(P.a)({},t,{type:"HIGHEST_BEST_EFFORT"})}):[]},[n,u]),T=Object(r.useMemo)(function(){return o?c.map(function(t){return Object(P.a)({},t,{type:"SEGMENT"})}):[]},[c,o]),A=Object(r.useMemo)(function(){return Object(G.a)(B).concat(Object(G.a)(_),Object(G.a)(T))},[n,e,c,u,i,o]);return Object(r.useEffect)(function(){var t=Object(_t.c)(j.current).append("svg").attr("viewBox","0 0 ".concat(b+f+l," ").concat(m+s+d)).append("g").attr("class","container").attr("transform","translate(".concat(f,", ").concat(s,")"));R.current=t,S.current=t.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(m,")")),k.current=t.append("g").attr("class","y-axis"),g.current=Object(Bt.d)().range([0,b]),E.current=Object(Bt.b)().range([0,m]),w.current=Object(Bt.c)().range([5,10,20,30,50]),x.current=Object(Tt.a)(g.current),y.current=Object(Tt.b)(y.current).ticks(10,"~s")},[j]),Object(r.useEffect)(function(){if(v){var t=g.current,e=E.current,n=w.current,r=x.current,a=y.current,c=R.current,i=S.current,o=k.current;if(0===A.length){var u=Date.now();t.domain([Qt()(u,1),u]),e.domain([21097,0]),n.domain([0,5])}else t.domain([Object(Vt.a)(A,function(t){return t.date}).date,Object(Y.a)(A,function(t){return t.date}).date]),e.domain([Object(Y.a)(A,function(t){return t.distance}).distance,0]),n.domain([0,Object(Y.a)(A,function(t){return t.count}).count]);var s=Object(Pt.a)().duration(750).ease(Gt.d);r.scale(t),a.scale(e),i.transition(s).call(r),o.transition(s).call(a);var l=c.selectAll("g.runs").data(A,function(t){return t.id}),d=l.enter(),f=l.exit(),b=Object(Pt.a)().duration(250);f.select("circle").transition(b).attr("r",0),f.transition(b).attr("opacity",0).remove(),l.select("circle").transition(b).attr("r",function(t){return n(t.count)});var m=d.append("g").attr("opacity",1).attr("class","runs").on("click",function(t){switch(t.type){case"HIGHEST_BEST_EFFORT":window.open("/BestEffort/".concat(t.id),"_self");break;case"SEGMENT_GROUP":window.open("/SegmentGroup/".concat(t.id),"_self");break;case"\x7fSEGMENT":window.open("/Segment/".concat(t.id),"_self")}}).on("mouseover",O).on("mouseout",function(){return O()});m.append("circle").attr("class","circle").attr("r",0).attr("cx",function(e){return t(e.date)}).attr("cy",function(t){return e(t.distance)}).transition(b).delay(function(){return Object(Xt.a)(750)}).attr("r",function(t){return n(t.count)}),m.append("text").attr("class","text").attr("x",function(e){return t(e.date)}).attr("y",function(t){return e(t.distance)}).text(function(t){return t.label})}},[A,j,v]),Object(r.useEffect)(function(){if(v){var t=E.current,e=w.current,n=R.current,r=h.type,a=h.id,c=[];switch(r){case"HIGHEST_BEST_EFFORT":c=B;break;case"SEGMENT_GROUP":c=_;break;case"SEGMENT":c=T}var i=Object(N.a)(c,function(t){return t.id===a}),o=Object(Pt.a)().duration(250),u=n.selectAll("g.runs").data(i?[i]:[],function(t){return t.id});u.select(".circle").classed("circle--selected",!0),u.select(".text").transition(o).attr("y",function(n){return t(n.distance)-e(n.count)-5});var s=u.exit();s.select(".circle").classed("circle--selected",!1),s.select(".text").attr("y",function(e){return t(e.distance)})}},[A,j,v,h]),a.a.createElement(ee,{className:"ChartRunsByFrequency",ref:j})};ne.defaultProps={matchingRunsPerSegmentGroups:[],matchingRunsByHighestBestEfforts:[],matchingRunsPerSegments:[],showBestEffortRuns:!1,showSegmentGroupRuns:!1,showSegmentRuns:!1};var re=ne;function ae(){var t=Object(s.a)(["\n  flex: 1;\n"]);return ae=function(){return t},t}function ce(){var t=Object(s.a)(["\n  flex: 2;\n  max-height: 600px;\n"]);return ce=function(){return t},t}function ie(){var t=Object(s.a)(["\n  font-size: 48px;\n  text-align: center;\n"]);return ie=function(){return t},t}function oe(){var t=Object(s.a)(["\n  margin: 50px 20px;\n  position: relative;\n  display: flex;\n"]);return oe=function(){return t},t}var ue=l.a.section(oe()),se=l.a.h2(ie()),le=l.a.div(ce()),de=l.a.div(ae()),fe=function(t){var e=t.athleteId,n=t.longestRun,c=t.biggestFan,i=t.totalRuns,o=t.topKudosers,u=t.matchingRunsBySegmentGroups,s=t.matchingRunsByHighestBestEfforts,l=t.matchingRunsBySegments,d=t.history,f=Object(r.useMemo)(function(){return Object(H.a)(Object(D.a)(u,function(t,e){var n=Object(Y.a)(t,function(t){return t.distance}).distance,r=Object(F.a)(t),a=r.name;return{id:r.id,count:t.length,label:a,distance:n,date:new Date(Object(Y.a)(t,function(t){return t.start_date}).start_date)}}))},[u]),b=Object(r.useMemo)(function(){return Object(H.a)(Object(D.a)(l,function(t,e){var n=Object(N.a)(t[0].segment_efforts,function(t){return t.segment.id.toString()===e}).segment,r=n.name,a=n.distance;return{id:n.id,count:t.length,label:r,distance:a,date:new Date(Object(Y.a)(t,function(t){return t.start_date}).start_date)}}))},[l]),m=Object(r.useMemo)(function(){return Object(H.a)(Object(D.a)(Object(it.a)(s,function(t){return!Object(ot.a)(t)}),function(t,e){var n=Object(N.a)(t[0].best_efforts,function(t){return t.distance.toString()===e}),r=n.name,a=n.distance;return{id:a,count:t.length,label:r,distance:a,date:new Date(Object(Y.a)(t,function(t){return t.start_date}).start_date)}}))},[s]),p=Object(r.useMemo)(function(){var t=Object(Y.a)(Object(H.a)(u),function(t){return t.length});return[Object(ut.a)(t),t.length]},[u]),O=Object(B.a)(p,2),h=O[0],j=O[1];return a.a.createElement("div",null,a.a.createElement(Rt,{longestRun:{id:n.id,name:n.name,distance:n.distance,date:n.start_date},mostFrequentRun:{id:h.id,name:h.name,count:j,date:new Date(h.start_date).toISOString()},biggestFan:{id:c.id,name:"".concat(c.firstname," ").concat(c.lastname),count:c.kudosCount,picture:c.profile},totalRuns:{athleteId:e,count:i.count}}),a.a.createElement(se,null,"Your most frequent runs"),a.a.createElement(ue,null,a.a.createElement(le,null,a.a.createElement(re,{matchingRunsBySegmentGroups:f,matchingRunsByHighestBestEfforts:m,matchingRunsBySegments:b,showBestEffortRuns:!0,showSegmentGroupRuns:!0})),a.a.createElement(de,null,a.a.createElement(Zt,{ordered:!0,items:Object(I.a)(Object(G.a)(f.map(function(t){return Object(P.a)({},t,{type:"SEGMENT_GROUP",onClick:function(){return d.push("/SegmentGroup/".concat(t.id))}})})).concat(Object(G.a)(m.map(function(t){return Object(P.a)({},t,{type:"HIGHEST_BEST_EFFORT",onClick:function(){return d.push("/HighestBestEffort/".concat(t.id))}})}))),"count","desc").map(function(t){var e=t.label,n=t.count,r=t.id,a=t.type;return{onClick:t.onClick,label:"".concat(Object(st.a)(e,{separator:/,? +/})," (").concat(n,")"),id:r,type:a}})}))),a.a.createElement(se,null,"People who give you the most kudos"),a.a.createElement(ue,null,a.a.createElement(le,null,a.a.createElement(Mt,{kudosers:o})),a.a.createElement(de,null,a.a.createElement(Zt,{ordered:!0,items:o.map(function(t){var e=t.id,n=t.kudosCount,r=t.firstname,a=t.lastname;return{onClick:function(){return window.open("https://www.strava.com/athletes/".concat(e),"_blank")},label:"".concat(r," ").concat(a," (").concat(n,")"),id:e,type:"KUDOSER"}})}))))};fe.defaultProps={longestRun:void 0,biggestFan:void 0,totalRuns:void 0,topKudosers:[],matchingRunsBySegmentGroups:{},matchingRunsByBestEfforts:{},matchingRunsByHighestBestEfforts:{},matchingRunsBySegments:{},history:{push:function(){}}};var be=fe,me=n(160),pe=n(92),Oe=n(109),he=n.n(Oe),je=n(169);function ve(){var t=Object(s.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n"]);return ve=function(){return t},t}var ge=l.a.div(ve(),d),xe=function(t){var e=t.runs,n=(t.type,60),c=60,i=60,o=60,u=800-o-c,s=600-n-i,l=Object(r.useContext)(At),f=l.setSelectedItem,p=Object(St.a)(l,["setSelectedItem"]),O=Object(r.useRef)(),h=Et(O),j=Object(r.useRef)(),v=Object(r.useRef)(),g=Object(r.useRef)(),x=Object(r.useRef)(),E=Object(r.useRef)(),y=Object(r.useRef)(),w=Object(r.useRef)(),R=Object(r.useMemo)(function(){return e.map(function(t){return Object(P.a)({},t,{color:"rgb(".concat(Object(Xt.a)(64),", ").concat(Object(Xt.a)(64),", ").concat(Object(Xt.a)(128),")")})},[e])}),S=function(t){return Object(je.a)(t,function(t){return t.time})},k=function(t){return Object(je.a)(t,function(t){return t.distance})};return Object(r.useEffect)(function(){var t=Object(_t.c)(O.current).append("svg").attr("viewBox","0 0 ".concat(u+o+c," ").concat(s+n+i)),e=t.append("defs").append("linearGradient").attr("id","areaGradient");e.append("stop").attr("offset","0%").attr("stop-color",d),e.append("stop").attr("offset","100%").attr("stop-color",m);var r=t.append("g").attr("class","container").attr("transform","translate(".concat(o,", ").concat(n,")"));E.current=r,y.current=r.append("g").attr("class","x-axis").attr("transform","translate(0, ".concat(s,")")),w.current=r.append("g").attr("class","y-axis"),j.current=Object(Bt.b)().range([0,u]),g.current=Object(Bt.b)().range([0,s]),v.current=Object(Tt.a)(j.current),x.current=Object(Tt.b)(x.current)},[O]),Object(r.useEffect)(function(){if(h){var t=j.current,n=g.current,r=v.current,a=x.current,c=E.current,i=y.current,o=w.current;0===Object.keys(e).length?(t.domain([0,he()(new Date(0),1).getTime()]),n.domain([21097,0])):(t.domain([0,S(Object(Y.a)(e.map(function(t){return t.splits}),S))]),n.domain([k(Object(Y.a)(e.map(function(t){return t.splits}),k)),0]));var u=Object(Pt.a)().duration(750).ease(Gt.d);r.scale(t),a.scale(n),i.transition(u).call(r),o.transition(u).call(a);var s=Object(pe.c)().x(function(e){return t(e.time)}).y(function(t){return n(t.distance)}).curve(pe.b),l=c.selectAll("g.runs").data(R,function(t){return t.id}),d=l.enter(),b=l.exit();d.append("path").attr("class","line").attr("d",function(t){return s([{speed:0,distance:0,time:0}].concat(Object(G.a)(t.splits.map(function(e,n){return Object(kt.a)(t.splits,n+1).reduce(function(t,e){return Object(P.a)({},t,{time:t.time+e.time,distance:t.distance+e.distance})})}))))}).attr("stroke",function(t){return t.color}).attr("stroke-width",2).attr("fill","none").attr("stroke-dasharray",function(){var t=this.getTotalLength();return t+" "+t}).attr("stroke-dashoffset",function(){return this.getTotalLength()}).on("mouseover",function(t){return f(t)}).on("mouseout",function(){return f()}).transition().duration(1e4).ease(Gt.b).attr("stroke-dashoffset",0),b.remove()}},[e,O,h]),Object(r.useEffect)(function(){if(h){var t=j.current,n=g.current,r=E.current,a=p.type,c=p.id,i=Object(N.a)(e,function(t){return t.id===c&&t.type===a});if(console.log("===================================="),console.log(i,e,p),console.log("===================================="),i){var o=r.selectAll(".line").data([i],function(t){return t.id});o.attr("stroke","white"),o.exit().attr("stroke","black");var u=Object(pe.a)().x(function(e){return t(e.time)}).y1(0).y0(n(0)),s=[{speed:0,distance:0,time:0}].concat(Object(G.a)(i.splits.map(function(t,e){return Object(kt.a)(i.splits,e+1).reduce(function(t,e){return Object(P.a)({},t,{time:t.time+e.time,distance:t.distance+e.distance})})})));s=s.map(function(t,e){if(s[e+1])return[t,s[e+1]]}).filter(function(t){return t});var l=r.selectAll(".area").data(s).enter().append("g").attr("class","area").attr("opacity",0);l.transition().duration(250).attr("opacity",.2),l.append("path").attr("d",function(t){return u(t)}).attr("fill","url(#areaGradient)").attr("stroke",b)}else r.selectAll(".line").data(R,function(t){return t.id}).attr("stroke",function(t){return t.color}),r.selectAll(".area").remove()}},[e,O,h,p]),a.a.createElement(ge,{className:"ChartEvolutionOverTime",ref:O})};xe.defaultProps={runs:[]};var Ee=xe;function ye(){var t=Object(s.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .bar {\n    rect {\n      fill: ",";\n    }\n\n    text {\n      fill: white;\n\n      &.bar-label {\n        fill: ",";\n        opacity: 0;\n        text-anchor: middle;\n      }\n    }\n\n    &--selected,\n    &:hover,\n    &:focus {\n      rect {\n        fill: ",";\n      }\n\n      text.bar-label {\n        opacity: 1;\n      }\n    }\n  }\n\n  & .bar-label {\n  }\n"]);return ye=function(){return t},t}var we=l.a.div(ye(),d,b,f,m),Re=function(t){var e=t.runs,n=60,c=60,i=60,o=60,u=800-o-c,s=600-n-i,l=Object(r.useContext)(At),d=l.setSelectedItem,f=Object(St.a)(l,["setSelectedItem"]),b=Object(r.useRef)(),m=Et(b),p=Object(r.useRef)(),O=Object(r.useRef)(),h=Object(r.useRef)(),j=Object(r.useRef)(),v=Object(r.useRef)();return Object(r.useEffect)(function(){var t=Object(_t.c)(b.current).append("svg").attr("viewBox","0 0 ".concat(u+o+c," ").concat(s+n+i)).append("g").attr("class","container").attr("transform","translate(".concat(o,", ").concat(n,")"));j.current=t,v.current=t.append("g").attr("class","y-axis"),p.current=Object(Bt.a)().padding(.2).range([0,u]),O.current=Object(Bt.b)().range([s,0]),h.current=Object(Tt.b)(h.current).ticks(10,"~s")},[b]),Object(r.useEffect)(function(){if(m){var t=p.current,n=O.current,r=h.current,a=j.current,c=v.current;0===Object.keys(e).length?(t.domain([]),n.domain([21097,0])):(t.domain(e.map(function(t){return t.id})),n.domain([0,Object(Y.a)(e,function(t){return t.distance}).distance]));var i=Object(Pt.a)().duration(750).ease(Gt.d);r.scale(n),c.transition(i).call(r);var o=a.selectAll("g.bar").data(e,function(t){return t.id}).enter().append("g").attr("class","bar");o.append("rect").attr("x",function(e){return t(e.id)}).attr("y",function(t){return s-n(t.distance)}).attr("width",function(){return t.bandwidth()}).on("mouseover",d).on("mouseout",function(){return d()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return n(t.distance)}).attr("height",function(t){return s-n(t.distance)}),o.append("text").attr("class","bar-label").attr("x",function(e){return t(e.id)+t.bandwidth()/2}).attr("y",function(t){return s+20}).text(function(t){return t.name}),o.append("text").attr("x",function(e){return t(e.id)+t.bandwidth()-5}).attr("y",function(t){return s}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+t.bandwidth()-5,", ").concat(s,")")}).text(function(t){return"".concat(t.distance," meters")})}},[e,b,m]),Object(r.useEffect)(function(){if(m){var t=j.current,n=f.type,r=f.id,a=Object(N.a)(e,function(t){return t.id===r&&t.type===n}),c=t.selectAll(".bar").data(a?[a]:[],function(t){return t.id});c.classed("bar--selected",!0),c.exit().classed("bar--selected",!1)}},[e,b,m,f]),a.a.createElement(we,{className:"ChartDistanceComparison",ref:b})};Re.defaultProps={runs:[]};var Se=Re;function ke(){var t=Object(s.a)(["\n  font-size: 16px;\n\n  & .x-axis,\n  & .y-axis {\n    fill: ",";\n\n    & text {\n      font-size: 16px;\n      font-family: Acme;\n    }\n  }\n\n  & .bar {\n    rect {\n      &.average {\n        fill: black;\n      }\n      &.max {\n        fill: ",";\n      }\n    }\n\n    text {\n      &.bar-label {\n        fill: ",";\n        opacity: 0;\n        text-anchor: middle;\n      }\n      &.speed {\n        fill: white;\n        font-size: 12px;\n      }\n    }\n\n    &--selected,\n    &:hover,\n    &:focus {\n      rect {\n        &.average,\n        &.max {\n          fill: ",";\n        }\n      }\n\n      text.bar-label {\n        opacity: 1;\n      }\n    }\n  }\n\n  & .bar-label {\n  }\n"]);return ke=function(){return t},t}var _e=l.a.div(ke(),d,b,f,m),Be=function(t){var e=t.runs,n=t.mode,c=60,i=60,o=60,u=60,s=800-u-i,l=600-c-o,d=Object(r.useContext)(At),f=d.setSelectedItem,b=Object(St.a)(d,["setSelectedItem"]),m=Object(r.useRef)(),p=Et(m),O=Object(r.useRef)(),h=Object(r.useRef)(),j=Object(r.useRef)(),v=Object(r.useRef)(),g=Object(r.useRef)(),x=function(t){return 3600*t/1e3},E=function(t){return 16.666666666667/t};return Object(r.useEffect)(function(){var t=Object(_t.c)(m.current).append("svg").attr("viewBox","0 0 ".concat(s+u+i," ").concat(l+c+o)).append("g").attr("class","container").attr("transform","translate(".concat(u,", ").concat(c,")"));v.current=t,g.current=t.append("g").attr("class","y-axis"),O.current=Object(Bt.a)().padding(.2).range([0,s]),h.current=Object(Bt.b)().range([l,0]),j.current=Object(Tt.b)(j.current).ticks(10,"~s")},[m]),Object(r.useEffect)(function(){if(p){var t=O.current,n=h.current,r=j.current,a=v.current,c=g.current;0===Object.keys(e).length?(t.domain([]),n.domain([0,25])):(t.domain(e.map(function(t){return t.id})),n.domain([0,x(Object(Y.a)(e,function(t){return t.max_speed}).max_speed)]));var i=Object(Pt.a)().duration(750).ease(Gt.d);r.scale(n),c.transition(i).call(r);var o=a.selectAll("g.bar").data(e,function(t){return t.id}).enter().append("g").attr("class","bar");o.append("rect").attr("class","average").attr("x",function(e){return t(e.id)}).attr("y",function(t){return n(x(t.average_speed))}).attr("width",function(){return t.bandwidth()}).on("mouseover",f).on("mouseout",function(){return f()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return n(x(t.average_speed))}).attr("height",function(t){return l-n(x(t.average_speed))}),o.append("rect").attr("class","max").attr("x",function(e){return t(e.id)}).attr("y",function(t){return l-n(x(t.max_speed))+n(x(t.average_speed))}).attr("width",function(){return t.bandwidth()}).on("mouseover",f).on("mouseout",function(){return f()}).transition().duration(750).ease(Gt.d).attr("y",function(t){return n(x(t.max_speed))}).attr("height",function(t){return l-n(x(t.max_speed))-(l-n(x(t.average_speed)))}),o.append("text").attr("class","bar-label").attr("x",function(e){return t(e.id)+t.bandwidth()/2}).attr("y",function(){return l+20}).text(function(t){return t.name}),o.append("text").attr("class","speed").attr("x",function(e){return t(e.id)+t.bandwidth()-5}).attr("y",function(){return l}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+t.bandwidth()-5,", ").concat(l,")")}).text(function(t){return"".concat(x(t.average_speed).toPrecision(2)," km/h (").concat(E(t.average_speed).toPrecision(2)," min/km)")}),o.append("text").attr("class","speed").attr("x",function(e){return t(e.id)+16}).attr("y",function(t){return l-(l-n(x(t.average_speed)))}).attr("transform",function(e){return"rotate(-90, ".concat(t(e.id)+16,", ").concat(l-(l-n(x(e.average_speed))),")")}).text(function(t){return"".concat(x(t.max_speed).toPrecision(2)," km/h (").concat(E(t.max_speed).toPrecision(2)," min/km)")})}},[e,m,p,n]),Object(r.useEffect)(function(){if(p){var t=v.current,n=b.type,r=b.id,a=Object(N.a)(e,function(t){return t.id===r&&t.type===n}),c=t.selectAll(".bar").data(a?[a]:[],function(t){return t.id});c.classed("bar--selected",!0),c.exit().classed("bar--selected",!1)}},[e,m,p,b]),a.a.createElement(_e,{className:"ChartPaceComparison",ref:m})};Be.defaultProps={runs:[],mode:"absolute"};var Te=Be;function Ge(){var t=Object(s.a)(["\n  flex: 1;\n"]);return Ge=function(){return t},t}function Pe(){var t=Object(s.a)(["\n  flex: 2;\n"]);return Pe=function(){return t},t}function Ae(){var t=Object(s.a)(["\n  display: flex;\n"]);return Ae=function(){return t},t}function Ce(){var t=Object(s.a)(["\n  margin-left: 32px;\n  margin-right: 32px;\n  display: inline-block;\n  background: ","\n\n  font-size: 48px;\n  font-style: oblique;\n  letter-spacing: 2px;\n  text-decoration: none;\n\n  cursor: pointer;\n\n  &:hover, &:active, &:focus, &.selected {\n    color: ",";\n    text-decoration: underline;\n  }\n\n  &:active {\n    color: ",";\n  }\n"]);return Ce=function(){return t},t}function He(){var t=Object(s.a)(["\n  margin: 20px 0;\n\n  text-align: center;\n"]);return He=function(){return t},t}function Ie(){var t=Object(s.a)(["\n  text-align: center;\n"]);return Ie=function(){return t},t}var Me=l.a.h1(Ie()),ze=l.a.nav(He()),Ne=l.a.a(Ce(),d,b,m),Fe=l.a.div(Ae()),De=l.a.div(Pe()),qe=l.a.div(Ge()),Ye=[{label:"Progress over time"},{label:"Pace comparison"},{label:"Distance comparison"}],Ke=function(t){var e=t.title,n=t.runs,c=t.type,i=(t.location,t.history,t.match,Object(r.useState)(Ye[0])),o=Object(B.a)(i,2),u=o[0],s=o[1];return a.a.createElement("div",null,a.a.createElement(Me,null,e),a.a.createElement(ze,null,Ye.map(function(t,e){return a.a.createElement(Ne,{key:e,className:u===t?"selected":"",onClick:function(){return s(t)}},t.label)})),a.a.createElement(Fe,null,a.a.createElement(De,null,u===Ye[0]&&a.a.createElement(Ee,{runs:n.map(function(t){var e=t.id,n=t.splits_metric;return{id:e,type:c,splits:n.map(function(t){return{speed:t.average_speed,distance:t.distance,time:t.elapsed_time}})}})}),u===Ye[1]&&a.a.createElement(Te,{runs:n.map(function(t){return Object(P.a)({},Object(me.a)(t,"id","name","max_speed","average_speed"),{type:c})})}),u===Ye[2]&&a.a.createElement(Se,{runs:n.map(function(t){return Object(P.a)({},Object(me.a)(t,"id","name","distance"),{type:c})})})),a.a.createElement(qe,null,a.a.createElement(Zt,{ordered:!0,items:Object(I.a)(n,"start_date","desc").map(function(t){var e=t.name,n=t.id;return{label:Object(st.a)(e,{separator:/,? +/}),onClick:function(){return window.open("https://www.strava.com/activities/".concat(n),"_blank")},id:n,type:c}})}))))},Le=function(t){var e=t.children,n=Object(r.useState)({}),c=Object(B.a)(n,2),i=c[0],o=c[1],u=Object(r.useMemo)(function(){return Object(P.a)({},i,{setSelectedItem:function(t){o(t||{id:void 0,type:""})}})},[i]);return a.a.createElement(At.Provider,{value:u},e)};Le.defaultProps={children:void 0};var Ue=Le,We=function(t){var e=function(t){var e=Object(r.useState)(new J),n=Object(B.a)(e,1)[0],a=Object(r.useState)(!1),c=Object(B.a)(a,2),i=c[0],o=c[1],u=Object(r.useState)(void 0),s=Object(B.a)(u,2),l=s[0],d=s[1],f=Object(r.useState)(void 0),b=Object(B.a)(f,2),m=b[0],p=b[1],O=Object(r.useState)([]),h=Object(B.a)(O,2),j=h[0],v=h[1],g=Object(r.useState)(void 0),x=Object(B.a)(g,2),E=x[0],y=x[1],w=Object(r.useState)(void 0),R=Object(B.a)(w,2),S=R[0],k=R[1],_=Object(r.useState)(void 0),T=Object(B.a)(_,2),U=T[0],W=T[1],Z=Object(r.useState)(void 0),$=Object(B.a)(Z,2),Q=$[0],V=$[1],X=Object(r.useState)(void 0),tt=Object(B.a)(X,2),et=tt[0],nt=tt[1],rt=Object(r.useState)(void 0),at=Object(B.a)(rt,2),ct=at[0],it=at[1],ot=Object(r.useState)(void 0),ut=Object(B.a)(ot,2),st=ut[0],lt=ut[1],dt=Object(r.useState)(void 0),ft=Object(B.a)(dt,2),bt=ft[0],mt=ft[1],pt=Object(r.useState)(void 0),Ot=Object(B.a)(pt,2),ht=Ot[0],jt=Ot[1];return Object(r.useEffect)(function(){n.init(t).then(function(t){var e=t.currentAthlete,n=t.activities,r=t.kudos,a=t.totalRuns;nt(e.id),k(e.profile),W("".concat(e.firstname," ").concat(e.lastname)),V(a);var c=Object(A.a)(Object(C.a)(Object(H.a)(r)),function(t){return t.id}),i=Object(I.a)(Object(M.a)(Object(z.a)(Object(C.a)(Object(H.a)(r)),function(t){return t.id}),function(t,e){var n=Object(N.a)(c,function(t){return t.id.toString()===e});return Object(P.a)({},n,{kudosCount:t})}),"kudosCount","desc");v(i),y(Object(F.a)(i)),d(Object(F.a)(Object(I.a)(n,"distance","desc"))),p(Object(F.a)(Object(I.a)(n,"average_speed","desc")));var u=Object(I.a)(Object(A.a)(Object(C.a)(Object(M.a)(n,function(t){return t.best_efforts.map(function(t){return{name:t.name,distance:t.distance}})})),function(t){return t.distance}),"distance","asc");lt(Object(P.a)({},Object(D.a)(Object(q.a)(u,function(t){return t.distance}),function(t){return Object(H.a)(n).filter(function(e){var n=e.best_efforts;return Object(Y.a)(n,function(t){return t.distance}).distance===t.distance})}))),it(Object(P.a)({},Object(D.a)(Object(q.a)(u,function(t){return t.distance}),function(t){return Object(H.a)(n).filter(function(e){return e.best_efforts.some(function(e){return e.distance===t.distance})})})));var s=Object(I.a)(Object(A.a)(Object(C.a)(Object(M.a)(n,function(t){return t.segment_efforts})),function(t){return t.segment.id}),"distance","asc");mt(Object(P.a)({},Object(D.a)(Object(q.a)(s,function(t){return t.segment.id}),function(t){return Object(H.a)(n).filter(function(e){return e.segment_efforts.some(function(e){return e.segment.id===t.segment.id})})})));var l=Object(G.a)(Object(H.a)(n)),f={},b=function(t,e){var n=t.segment_efforts,r=e.segment_efforts,a=Object(A.a)(Object(G.a)(n).concat(Object(G.a)(r)),function(t){return t.segment.id});return Object(A.a)(Object(G.a)(Object(K.a)(n,r,function(t){return t.segment.id})).concat(Object(G.a)(Object(K.a)(r,n,function(t){return t.segment.id}))),function(t){return t.segment.id}).length/a.length<.9},m=!0,O=!1,h=void 0;try{for(var j,g=Object(H.a)(n)[Symbol.iterator]();!(m=(j=g.next()).done);m=!0){var x=j.value,E=[],w=!0,R=!1,S=void 0;try{for(var _,B=l[Symbol.iterator]();!(w=(_=B.next()).done);w=!0){var T=_.value;b(x,T)&&E.push(T)}}catch(U){R=!0,S=U}finally{try{w||null==B.return||B.return()}finally{if(R)throw S}}l=L.a.apply(void 0,[l].concat(E)),E.length>0&&(f[x.id]=E)}}catch(U){O=!0,h=U}finally{try{m||null==g.return||g.return()}finally{if(O)throw h}}jt(f),o(!0)})},[t]),{isReady:i,athleteId:et,profilePicture:S,fullName:U,longestRun:l,fastestRun:m,topKudosers:j,biggestFan:E,totalRuns:Q,matchingRunsByBestEfforts:ct,matchingRunsByHighestBestEfforts:st,matchingRunsBySegments:bt,matchingRunsBySegmentGroups:ht}}(t.code),n=e.isReady,c=e.athleteId,i=e.profilePicture,o=e.fullName,s=e.longestRun,l=e.topKudosers,d=e.biggestFan,f=e.matchingRunsBySegmentGroups,b=e.matchingRunsByHighestBestEfforts,m=e.totalRuns;return a.a.createElement(Ue,null,a.a.createElement(j,null,a.a.createElement(ct,{athleteId:c,profilePicture:i,fullName:o}),a.a.createElement(T.a,null,a.a.createElement(u.a,{path:"/",exact:!0,render:function(t){return n?a.a.createElement(be,Object.assign({},t,{athleteId:c,longestRun:s,biggestFan:d,totalRuns:m,topKudosers:l,matchingRunsBySegmentGroups:f,matchingRunsByHighestBestEfforts:b})):null}}),a.a.createElement(u.a,{path:"/SegmentGroup/:id",render:function(t){var e=f[t.match.params.id],n=Object(B.a)(e,1)[0];return a.a.createElement(Ke,Object.assign({},t,{runs:e,title:n&&n.name,type:"SEGMENT_GROUP"}))}}),a.a.createElement(u.a,{path:"/HighestBestEffort/:id",render:function(t){var e=b[t.match.params.id],n=Object(B.a)(e,1)[0];return a.a.createElement(Ke,Object.assign({},t,{runs:e,title:n&&n.name,type:"HIGHEST_BEST_EFFORT"}))}})),a.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(140),n(142);i.a.render(a.a.createElement(function(){var t=new URLSearchParams(window.location.search),e=t.get("code"),n=t.get("error");return e&&"access_denied"!==n?a.a.createElement(o.a,null,a.a.createElement(u.a,{render:function(){return a.a.createElement(We,{code:e})}})):a.a.createElement(_,{onStart:function(){return window.open("https://www.strava.com/oauth/authorize?client_id=".concat("30519","&redirect_uri=").concat("https://lith-light-g.github.io/hook3","&response_type=code&approval_prompt=auto&scope=profile:read_all,activity:read_all"),"_self")}})},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[113,2,1]]]);
//# sourceMappingURL=main.59e341c9.chunk.js.map